.segment "PRGA3"; Bank 2


; 8000 - bank 2
.byte $4C, $5A, $80, $4C, $D5, $80, $4C, $CF, $96, $4C, $40, $DF, $4C, $11, $94, $4C
.byte $3C, $94, $4C, $94, $93, $4C, $C5, $80, $4C, $48, $99, $4C, $9E, $85, $4C, $C5
.byte $80, $4C, $7B, $93, $4C, $8E, $80, $4C, $96, $81, $4C, $63, $81, $4C, $22, $97
.byte $4C, $71, $97, $4C, $6D, $95, $4C, $3E, $96, $4C, $1D, $95, $4C, $37, $95, $4C
.byte $85, $85, $67, $C5, $E7, $C5, $AA, $81, $EA, $81, $12, $82, $2A, $82, $4A, $82
.byte $56, $82, $56, $82, $56, $83, $C9, $EF, $40, $7E, $20, $07, $EB, $20, $F0, $EE
.byte $20, $E5, $EE, $A9, $00, $8D, $2F, $01, $20, $2A, $C4, $20, $20, $EF, $20, $21
.byte $7F, $20, $42, $EE, $20, $2E, $EF, $20, $CA, $EE, $20, $E5, $EE, $A9, $08, $20
.byte $90, $CA, $20, $63, $81, $20, $53, $C4, $20, $3D, $C8, $20, $70, $CB, $A9, $60
.byte $85, $43, $20, $01, $EF, $20, $21, $EB, $24, $AB, $70, $13, $30, $14, $20, $98
.byte $E1, $20, $D7, $EA, $20, $C8, $94, $4C, $95, $80

nes_80aa:
  INC $A0
  JMP $C06D
  JMP $C0A0
nes_80b2:
  JSR $EEF0
  JSR MOVE_TO_NEXT_LEVEL_LOC
  ; JSR $EA89
  ; INC $0130
  nops 3
  LDA $0130
  CMP #$03
  BCS nes_80aa
  JMP $8068
  RTS


nes_80c6:
  JSR $EE9B
  JSR $EE0E
  JSR $EEB8
  JMP $811E
nes_80d2:
  JMP $8134

  TXA
  PHA
  TYA
  PHA
  LDA $45
  BNE nes_80d2
  INC $45
  nops 3 ;   LDA PpuStatus_2002
  JSR $EB2E
  LDA $38
  BNE nes_80c6
  LDA $37
  BNE nes_8139

  jslb set_ppu_mask_to_accumulator, $a0 ; STA PpuMask_2001
  JSR $946A
  JSR $EBC9
;   LDA $FF
;   STA PpuMask_2001
  jslb set_ppu_mask_to_stored_value, $a0

  JSR $956D
  JSR $963E
  JSR $EE9B
  JSR $8175
  JSR $ECD9
  JSR $EEB8
  JSR $94F0
  LDA $5C
  BPL :+
  LDA #$00
  STA $3F
  STA $40
  STA $41
  STA $42
: JSR $E15D
  JSR $C3E0
  JSR $C453
  JSR $EE6A
  JSR $EE94
  JSR $C856
  LDA #$00
  STA $45
  PLA
  TAY
  PLA
  TAX
  RTS

; 8139 - bank 2
nes_8139:
.byte $4A, $B0, $E2, $4A, $B0, $06, $20
.byte $42, $EE, $4C, $F3, $80, $A9, $0A, $20, $90, $CA, $A9, $0C, $20, $90, $CA, $20
.byte $C9, $EB, $20, $9B, $EE, $A9, $02, $20, $90, $CA, $20, $D9, $EC, $20, $B8, $EE
.byte $4C, $1E, $81, $20, $96, $81, $20, $43, $D3, $20, $F3, $91, $20, $BB, $8E, $20
.byte $29, $86, $4C, $26, $84, $20, $B6, $CB, $20, $D9, $C3, $AD, $21, $07, $29, $70
.byte $D0, $B6, $20, $A2, $D4, $20, $F4, $91, $20, $BC, $8E, $20, $2A, $86, $20, $34
.byte $84, $A2, $F0, $4C, $75, $91, $A2, $20, $A9, $AA, $9D, $00, $07, $A9, $80, $9D
.byte $02, $07, $A9, $20, $9D, $03, $07, $4C, $BF, $C3, $02, $70, $71, $72, $73, $74
.byte $75, $00, $42, $71, $70, $73, $72, $75, $74, $00, $02, $70, $71, $72, $73, $76
.byte $77, $00, $42, $71, $70, $73, $72, $77, $76, $00, $02, $B0, $B1, $B2, $B3, $B4
.byte $B5, $00, $42, $B1, $B0, $B3, $B2, $B5, $B4, $00, $02, $B0, $B1, $B2, $B3, $B6
.byte $B7, $00, $42, $B1, $B0, $B3, $B2, $B7, $B6, $00, $4B, $4B, $4B, $4B, $5A, $5A
.byte $5A, $5A, $4A, $4A, $4A, $4A, $95, $5F, $96, $5F, $9B, $5F, $9C, $5F, $3F, $5F


; 8200 - bank 2
.byte $4F, $5F, $48, $5F, $58, $5F, $49, $5F, $59, $5F, $AA, $5F, $AB, $5F, $34, $5F
.byte $55, $5F, $16, $17, $90, $91, $17, $16, $91, $90, $00, $00, $00, $00, $00, $00
.byte $00, $00, $78, $79, $7A, $7B, $79, $78, $7B, $7A, $C0, $C1, $C2, $C3, $C1, $C0
.byte $C3, $C2, $C4, $C5, $C6, $C7, $C5, $C4, $C7, $C6, $C8, $C9, $CA, $CB, $C9, $C8
.byte $CB, $CA, $D0, $D1, $D2, $D3, $D1, $D0, $D3, $D2, $9F, $5F, $AF, $5F, $8E, $5F
.byte $8F, $5F, $34, $5F, $8F, $5F, $7F, $00, $00, $00, $7F, $00, $00, $00, $7F, $00
.byte $00, $00, $FC, $27, $01, $00, $F8, $94, $01, $00, $7F, $00, $00, $00, $00, $AE
.byte $01, $00, $7F, $00, $00, $00, $F8, $5B, $00, $FC, $F8, $5B, $40, $04, $00, $5C
.byte $00, $FC, $00, $5C, $40, $04, $F8, $0E, $00, $FC, $F8, $0E, $40, $04, $00, $1E
.byte $00, $FC, $00, $1E, $40, $04, $F8, $71, $42, $FC, $F8, $70, $42, $04, $00, $75
.byte $42, $FC, $00, $74, $42, $04, $F8, $70, $02, $FC, $F8, $73, $02, $04, $00, $76
.byte $02, $FC, $00, $77, $02, $04, $F8, $73, $42, $FC, $F8, $70, $42, $04, $00, $77
.byte $42, $FC, $00, $76, $42, $04, $F8, $80, $02, $FC, $F8, $81, $02, $04, $00, $84
.byte $02, $FC, $00, $85, $02, $04, $F8, $82, $02, $FC, $F8, $83, $02, $04, $00, $86
.byte $02, $FC, $00, $87, $02, $04, $7F, $00, $00, $00, $7F, $00, $00, $00, $00, $E8
.byte $03, $FC, $00, $E8, $43, $04, $7F, $00, $00, $00, $7F, $00, $00, $00, $00, $E9


; 8300 - bank 2
.byte $03, $FC, $00, $EA, $03, $04, $7F, $00, $00, $00, $7F, $00, $00, $00, $00, $EA
.byte $43, $FC, $00, $E9, $43, $04, $F8, $EB, $03, $FC, $F8, $EC, $03, $04, $00, $ED
.byte $03, $FC, $00, $EE, $03, $04, $F8, $EC, $43, $FC, $F8, $EB, $43, $04, $00, $EE
.byte $43, $FC, $00, $ED, $43, $04, $F8, $46, $00, $FC, $F8, $47, $00, $04, $00, $56
.byte $00, $FC, $00, $57, $00, $04, $F8, $EC, $02, $FC, $F8, $ED, $02, $04, $00, $EE
.byte $02, $FC, $00, $EF, $02, $04, $F8, $BD, $02, $FC, $F8, $BD, $42, $04, $00, $BD
.byte $82, $FC, $00, $BD, $C2, $04, $F8, $BE, $02, $FC, $F8, $BE, $42, $04, $00, $BF
.byte $02, $FC, $00, $BF, $42, $04, $F8, $2A, $02, $FC, $F8, $2A, $02, $04, $00, $2A
.byte $82, $FC, $00, $2A, $82, $04, $F8, $BF, $82, $FC, $F8, $BF, $C2, $04, $00, $BE
.byte $82, $FC, $00, $BE, $C2, $04, $F8, $D4, $03, $FC, $F8, $D4, $43, $04, $00, $D5
.byte $03, $FC, $00, $D5, $43, $04, $F8, $D6, $03, $FC, $F8, $D6, $43, $04, $00, $D7
.byte $03, $FC, $00, $D7, $43, $04, $F8, $50, $00, $FC, $F8, $50, $40, $04, $00, $51
.byte $00, $FC, $00, $51, $40, $04, $F8, $3E, $00, $FC, $7F, $00, $00, $00, $00, $3E
.byte $80, $FC, $7F, $00, $00, $00, $F8, $52, $00, $04, $7F, $00, $00, $00, $00, $52
.byte $80, $04, $7F, $00, $00, $00, $F8, $3D, $00, $FC, $F8, $3D, $40, $03, $00, $4D
.byte $00, $FC, $00, $4D, $40, $03, $F8, $92, $01, $FD, $F8, $94, $01, $03, $00, $93


; 8400 - bank 2
.byte $01, $FD, $00, $AE, $01, $03, $F8, $9A, $01, $F4, $F8, $9A, $01, $FC, $F8, $9A
.byte $01, $04, $F8, $9A, $01, $0C, $F8, $0E, $00, $FC, $F8, $0E, $40, $04, $00, $5C
.byte $00, $FC, $00, $5C, $40, $04, $A2, $50, $A9, $80, $9D, $01, $07, $0A, $9D, $00
.byte $07, $85, $A1, $60


; 8434
  LDX #$50
  LDA $0701,X
  BPL :+
  JSR $860D
  LDA $0701,X
  AND #$0F
  BEQ :++
  BNE nes_8498
: RTS

; 8448
: LDA $A1
  ; check for item, this has been moved so we can edit it in the level randomization
  CMP LVL_ITEM_COUNT
  BCC nes_8455
  LDA #$00
  STA $0701,X
  RTS

; 8455
nes_8455:
  STA $00
  ASL
  ASL
  TAY
  ; check for item, this has been moved so we can edit it in the level randomization
  ; LDA $7E08,Y
  LDA LVL_ITEM_COUNT + 1, Y
  CMP $0130
  BCC :+
  BNE :+++
  LDA LVL_ITEM_COUNT + 2,Y
  CMP $04D1
  BCC :+
  BNE :+++
  LDA LVL_ITEM_COUNT + 3,Y
  AND #$F0
  CMP $FD
  BEQ :++
  BCC :+++
: INC $A1
  BNE :--
: LDA #$00
  STA $0700,X
  LDA LVL_ITEM_COUNT + 3,Y
  ASL
  ASL
  ASL
  ASL
  STA $0703,X
  LDA #$81
  STA $0701,X
  LDA LVL_ITEM_COUNT + 4,Y
  STA $0702,X
: RTS

nes_8498:
.byte $BD, $00, $07, $C9, $F8, $B0, $11, $20
.byte $8A, $D9, $90, $03, $4C, $C6, $84, $BD, $02, $07, $D0, $11, $A9, $FF, $85, $3E
.byte $A9, $10, $8D, $81, $03, $A9, $80, $9D, $01, $07, $4C, $2B, $DD, $A5, $A6, $18
.byte $69, $07, $85, $A6, $D0, $EA, $BD, $02, $07, $D0, $05, $A9, $19, $4C, $67, $C6
.byte $A9, $36, $4C, $CD, $C4, $A9, $08, $9D, $00, $07, $A9, $44, $9D, $02, $07, $A9
.byte $50, $9D, $03, $07, $A9, $00, $9D, $04, $07, $9D, $05, $07, $20, $85, $85, $60
.byte $A2, $F0, $BD, $01, $07, $29, $F8, $C9, $30, $D0, $F4, $BD, $01, $07, $29, $07


; 8500 - bank 2
.byte $20, $2B, $EE, $E1, $85, $11, $85, $A9, $85, $0B, $85, $20, $0D, $86, $4C, $65
.byte $DD, $20, $08, $DD, $20, $0D, $86, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $4F
.byte $A9, $D8, $20, $7A, $85, $20, $6D, $C7, $20, $ED, $85, $20, $90, $D9, $90, $15
.byte $20, $E7, $D9, $90, $15, $20, $09, $DA, $20, $62, $DF, $20, $C0, $DB, $20, $19
.byte $86, $20, $DE, $DC, $60, $A9, $F8, $99, $00, $07, $A9, $80, $8D, $80, $03, $20
.byte $A9, $DC, $BD, $01, $07, $29, $F8, $09, $03, $9D, $01, $07, $A9, $FF, $9D, $02
.byte $07, $A9, $08, $8D, $81, $03, $20, $9E, $85, $20, $E1, $E2, $4C, $F0, $E2, $A9
.byte $28, $20, $7A, $85, $20, $8D, $C7, $4C, $2B, $85, $85, $08, $A9, $30, $85, $09
.byte $A9, $60, $85, $0A, $60, $98, $48, $BD, $01, $07, $29, $F8, $4A, $4A, $4A, $A8
.byte $B9, $20, $7E, $9D, $07, $07, $A9, $00, $9D, $08, $07, $68, $A8, $60, $BD, $01
.byte $07, $4A, $4A, $4A, $A8, $B9, $30, $7E, $60, $20, $08, $DD, $20, $0D, $86, $BD
.byte $02, $07, $29, $0F, $C9, $08, $B0, $0F, $AD, $23, $07, $18, $69, $10, $20, $D6
.byte $85, $20, $6D, $C7, $4C, $2B, $85, $AD, $23, $07, $38, $E9, $10, $20, $D6, $85
.byte $20, $8D, $C7, $4C, $2B, $85, $85, $08, $A9, $30, $85, $09, $A9, $F8, $85, $0A
.byte $60, $8A, $C5, $14, $D0, $06, $20, $D5, $84, $FE, $01, $07, $60, $A5, $15, $29
.byte $01, $D0, $19, $AD, $23, $07, $38, $FD, $03, $07, $B0, $02, $49, $FF, $C9, $08


; 8600 - bank 2
.byte $B0, $0A, $BD, $01, $07, $29, $F8, $09, $02, $9D, $01, $07, $60, $48, $A5, $27
.byte $18, $7D, $00, $07, $9D, $00, $07, $68, $60, $A0, $56, $BD, $02, $07, $29, $0F
.byte $C9, $08, $B0, $01, $C8, $98, $4C, $CD, $C4, $60, $20, $2B, $8B, $20, $86, $86
.byte $AD, $61, $07, $0D, $71, $07, $0D, $81, $07, $0D, $91, $07, $F0, $0F, $20, $0A
.byte $8C, $20, $DF, $89, $20, $BD, $86, $20, $04, $87, $4C, $84, $8B, $AD, $30, $01
.byte $0A, $A8, $B9, $D0, $7C, $85, $00, $B9, $D1, $7C, $85, $01, $AC, $D1, $04, $B1
.byte $00, $C9, $0D, $F0, $20, $0A, $0A, $0A, $20, $9D, $DC, $8D, $61, $07, $8D, $71
.byte $07, $8D, $81, $07, $8D, $91, $07, $A9, $00, $8D, $60, $07, $8D, $70, $07, $8D
.byte $80, $07, $8D, $90, $07, $60, $AD, $61, $07, $29, $F8, $C9, $68, $F0, $2D, $AD
.byte $30, $01, $0A, $A8, $B9, $05, $7D, $85, $00, $B9, $06, $7D, $85, $01, $AC, $D1
.byte $04, $B1, $00, $F0, $17, $29, $F0, $38, $E5, $FD, $C9, $FC, $90, $0E, $B1, $00
.byte $0A, $0A, $0A, $0A, $8D, $63, $07, $A9, $68, $8D, $61, $07, $60, $A2, $60, $20
.byte $D2, $86, $A2, $70, $20, $D2, $86, $A2, $80, $20, $D2, $86, $A2, $90, $20, $D2
.byte $86, $60, $BD, $01, $07, $29, $F8, $C9, $40, $D0, $F6, $4C, $FB, $84, $A9, $02
.byte $9D, $02, $07, $A9, $00, $9D, $04, $07, $9D, $05, $07, $A9, $80, $9D, $06, $07
.byte $20, $85, $85, $A9, $F0, $9D, $00, $07, $8A, $38, $E9, $60, $0A, $18, $69, $40


; 8700 - bank 2
.byte $9D, $03, $07, $60, $A2, $60, $20, $18, $87, $A2, $70, $20, $18, $87, $A2, $80
.byte $20, $18, $87, $A2, $90, $4C, $18, $87, $BD, $01, $07, $29, $F8, $C9, $50, $D0
.byte $49, $20, $87, $E0, $20, $0D, $86, $20, $0F, $DD, $BD, $01, $07, $29, $07, $F0
.byte $06, $C9, $01, $F0, $16, $D0, $11, $8A, $4A, $4A, $18, $65, $14, $29, $3F, $D0
.byte $06, $20, $DE, $86, $FE, $01, $07, $60, $4C, $65, $DD, $20, $90, $D9, $90, $1B
.byte $20, $E7, $D9, $90, $1B, $20, $09, $DA, $20, $62, $DF, $20, $D8, $87, $20, $DA
.byte $DB, $20, $C9, $DB, $20, $00, $88, $20, $DE, $DC, $60, $A9, $F8, $99, $00, $07
.byte $A9, $80, $8D, $80, $03, $20, $A9, $DC, $FE, $01, $07, $A9, $FF, $9D, $02, $07
.byte $A9, $08, $8D, $81, $03, $20, $9E, $85, $20, $E1, $E2, $4C, $F0, $E2, $20, $87
.byte $D2, $D0, $0E, $AD, $D3, $04, $C9, $40, $B0, $19, $AD, $D4, $04, $C9, $40, $B0
.byte $12, $BD, $06, $07, $C9, $78, $B0, $02, $69, $02, $9D, $06, $07, $29, $F0, $9D
.byte $05, $07, $60, $A9, $00, $9D, $06, $07, $9D, $04, $07, $9D, $05, $07, $60, $BD
.byte $06, $07, $18, $69, $02, $9D, $06, $07, $C9, $F8, $B0, $06, $29, $F0, $9D, $05
.byte $07, $60, $A9, $01, $9D, $06, $07, $60, $BD, $06, $07, $30, $E2, $D0, $AF, $8A
.byte $38, $E9, $60, $18, $65, $14, $29, $3F, $D0, $15, $A0, $40, $AD, $23, $07, $DD
.byte $03, $07, $B0, $02, $A0, $B0, $98, $9D, $04, $07, $A9, $80, $9D, $06, $07, $60


; 8800 - bank 2
.byte $A0, $14, $A5, $14, $29, $08, $F0, $01, $C8, $98, $4C, $67, $C6, $A9, $02, $9D
.byte $02, $07, $20, $85, $85, $A9, $00, $9D, $00, $07, $A9, $20, $9D, $03, $07, $60
.byte $A2, $60, $20, $39, $88, $A2, $70, $20, $39, $88, $A2, $80, $20, $39, $88, $A2
.byte $90, $20, $39, $88, $A2, $F0, $4C, $C2, $89, $BD, $01, $07, $29, $F8, $C9, $38
.byte $D0, $33, $20, $87, $E0, $20, $0D, $86, $20, $08, $DD, $BD, $01, $07, $29, $07
.byte $F0, $51, $C9, $01, $D0, $4A, $20, $90, $D9, $90, $1B, $20, $E7, $D9, $90, $1B
.byte $20, $09, $DA, $20, $62, $DF, $20, $DF, $88, $20, $C0, $DB, $20, $70, $89, $20
.byte $DE, $DC, $20, $85, $89, $60, $A9, $F8, $99, $00, $07, $A9, $80, $8D, $80, $03
.byte $20, $A9, $DC, $BD, $01, $07, $29, $F8, $09, $02, $9D, $01, $07, $A9, $FF, $9D
.byte $02, $07, $A9, $08, $8D, $81, $03, $20, $9E, $85, $20, $E1, $E2, $4C, $F0, $E2
.byte $4C, $65, $DD, $8A, $38, $E9, $60, $0A, $29, $60, $85, $00, $A5, $FD, $29, $60
.byte $C5, $00, $D0, $C1, $20, $15, $88, $20, $87, $E0, $AD, $D3, $04, $C9, $40, $B0
.byte $B4, $AD, $D5, $04, $C9, $40, $B0, $AD, $20, $0D, $88, $FE, $01, $07, $60, $BD
.byte $03, $07, $CD, $23, $07, $90, $4E, $B0, $75, $A9, $50, $9D, $02, $07, $60, $20
.byte $87, $D2, $D0, $F5, $AD, $D3, $04, $C9, $40, $B0, $07, $AD, $D4, $04, $C9, $40
.byte $90, $E7, $BD, $02, $07, $29, $0F, $F0, $D6, $A9, $00, $9D, $05, $07, $BD, $02


; 8900 - bank 2
.byte $07, $29, $0F, $C9, $08, $B0, $29, $BD, $03, $07, $C9, $F0, $B0, $40, $AD, $D3
.byte $04, $C9, $40, $90, $39, $AD, $D5, $04, $C9, $40, $B0, $32, $BD, $02, $07, $29
.byte $0F, $9D, $02, $07, $60, $A9, $02, $9D, $02, $07, $A9, $00, $9D, $04, $07, $60
.byte $BD, $03, $07, $C9, $08, $90, $EE, $AD, $D4, $04, $C9, $40, $90, $E7, $AD, $D6
.byte $04, $C9, $40, $B0, $E0, $BD, $02, $07, $29, $0F, $9D, $02, $07, $60, $A9, $0D
.byte $9D, $02, $07, $A9, $00, $9D, $04, $07, $60, $BD, $02, $07, $48, $29, $F0, $9D
.byte $05, $07, $68, $0A, $0A, $0A, $0A, $9D, $04, $07, $20, $DA, $DB, $4C, $C9, $DB
.byte $A0, $03, $BD, $04, $07, $30, $01, $C8, $A5, $14, $29, $10, $D0, $02, $C8, $C8
.byte $98, $20, $67, $C6, $60, $A0, $F0, $B9, $01, $07, $29, $F8, $D0, $23, $BD, $00
.byte $07, $38, $E9, $08, $99, $00, $07, $BD, $03, $07, $99, $03, $07, $CD, $23, $07
.byte $B0, $10, $BD, $04, $07, $30, $0A, $A9, $04, $99, $02, $07, $A9, $70, $99, $01
.byte $07, $60, $BD, $04, $07, $10, $FA, $A9, $0D, $99, $02, $07, $A9, $70, $99, $01
.byte $07, $60, $4C, $75, $91, $A9, $02, $9D, $02, $07, $20, $85, $85, $60, $A9, $08
.byte $9D, $00, $07, $A9, $50, $24, $26, $10, $02, $A9, $B0, $9D, $03, $07, $60, $A2
.byte $60, $20, $24, $8A, $A2, $70, $20, $24, $8A, $A2, $80, $20, $24, $8A, $A2, $90
.byte $4C, $24, $8A, $8A, $38, $E9, $60, $29, $30, $85, $00, $A5, $14, $29, $30, $C5


; 8A00 - bank 2
.byte $00, $D0, $20, $A5, $FD, $29, $0F, $D0, $1A, $20, $CE, $89, $20, $53, $E0, $AD
.byte $D5, $04, $C9, $40, $B0, $0D, $AD, $D3, $04, $C9, $40, $90, $06, $20, $C5, $89
.byte $FE, $01, $07, $60, $BD, $01, $07, $29, $F8, $C9, $28, $D0, $45, $20, $0D, $86
.byte $20, $0F, $DD, $BD, $01, $07, $29, $07, $F0, $B9, $C9, $01, $D0, $7F, $20, $53
.byte $E0, $BD, $00, $07, $38, $ED, $20, $07, $B0, $02, $49, $FF, $C9, $08, $B0, $06
.byte $A5, $1F, $C9, $08, $B0, $1D, $20, $90, $D9, $90, $38, $20, $E7, $D9, $90, $38
.byte $20, $09, $DA, $20, $62, $DF, $20, $D7, $8A, $20, $C0, $DB, $20, $0D, $8B, $20
.byte $DE, $DC, $60, $BD, $02, $07, $48, $29, $08, $F0, $0F, $68, $09, $0F, $9D, $02
.byte $07, $20, $D7, $8A, $20, $C0, $DB, $4C, $27, $8B, $68, $29, $F0, $9D, $02, $07
.byte $4C, $81, $8A, $A9, $F8, $99, $00, $07, $A9, $80, $8D, $80, $03, $20, $A9, $DC
.byte $BD, $01, $07, $29, $F8, $09, $02, $9D, $01, $07, $A9, $FF, $9D, $02, $07, $A9
.byte $08, $8D, $81, $03, $20, $9E, $85, $20, $E1, $E2, $4C, $F0, $E2, $20, $53, $E0
.byte $4C, $65, $DD, $AD, $23, $07, $DD, $03, $07, $90, $06, $A9, $60, $9D, $02, $07
.byte $60, $A9, $6F, $9D, $02, $07, $60, $AD, $D3, $04, $C9, $40, $B0, $07, $AD, $D4
.byte $04, $C9, $40, $90, $DE, $A9, $00, $9D, $05, $07, $BD, $02, $07, $29, $0F, $C9
.byte $08, $B0, $0D, $AD, $D5, $04, $C9, $40, $B0, $0D, $A9, $03, $9D, $02, $07, $60


; 8B00 - bank 2
.byte $AD, $D6, $04, $C9, $40, $B0, $F3, $A9, $0C, $9D, $02, $07, $60, $A5, $14, $29
.byte $08, $D0, $10, $A0, $50, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $01, $C8, $98
.byte $4C, $CD, $C4, $A0, $52, $D0, $EE, $A0, $54, $D0, $EA, $A2, $60, $A0, $00, $20
.byte $44, $8B, $A2, $70, $A0, $20, $20, $44, $8B, $A2, $80, $A0, $40, $20, $44, $8B
.byte $A2, $90, $A0, $60, $20, $51, $8B, $C8, $C8, $C8, $C8, $98, $29, $1F, $D0, $F4
.byte $60

;8b51
; Changes where we load platform information World 1
; normally lvl_platforms is $7B60
  LDA LVL_PLATFORMS,Y
  CMP #$FF
  BEQ :++
  CMP $0130
  BNE :+
  LDA $04D1
  CMP LVL_PLATFORMS+1,Y
  BNE :+
  LDA $FD
  CMP LVL_PLATFORMS+2,Y
  BNE :+
  LDA #$78
  STA $0701,X
  LDA #$0C
  STA $0702,X
  LDA #$00
  STA $0700,X
  LDA #$80
  STA $0703,X
: RTS
: PLA
  PLA
  RTS

.byte $A2, $60, $20, $98, $8B, $A2, $70, $20, $98, $8B, $A2, $80
.byte $20, $98, $8B, $A2, $90, $4C, $98, $8B, $BD, $01, $07, $29, $F8, $C9, $78, $D0
.byte $20, $20, $49, $E0, $20, $0D, $86, $BD, $01, $07, $29, $07, $BD, $00, $07, $C9
.byte $F8, $B0, $09, $20, $C2, $8B, $20, $C0, $DB, $4C, $EA, $8B, $A9, $00, $9D, $01
.byte $07, $60, $A9, $00, $9D, $05, $07, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $0D
.byte $AD, $D5, $04, $C9, $40, $B0, $0D, $A9, $03, $9D, $02, $07, $60, $AD, $D6, $04
.byte $C9, $40, $B0, $F3, $A9, $0C, $9D, $02, $07, $60, $A9, $1B, $4C, $67, $C6, $A9
.byte $02, $9D, $02, $07, $20, $85, $85, $A9, $00, $9D, $04, $07, $9D, $05, $07, $9D


; 8C00 - bank 2
.byte $06, $07, $F0, $02, $A9, $08, $9D, $00, $07, $60, $A2, $60, $BD, $01, $07, $29
.byte $F8, $C9, $68, $D0, $12, $20, $45, $8C, $A2, $78, $20, $EE, $8D, $A2, $78, $20
.byte $41, $8E, $A2, $7C, $20, $41, $8E, $60, $A2, $C0, $BD, $01, $07, $29, $F8, $C9
.byte $68, $D0, $F4, $20, $45, $8C, $A2, $D8, $20, $EE, $8D, $A2, $D8, $20, $41, $8E
.byte $A2, $DC, $4C, $41, $8E, $BD, $01, $07, $29, $07, $20, $2B, $EE, $18, $8D, $55
.byte $8C, $55, $8C, $0C, $8D, $20, $87, $E0, $20, $0D, $86, $20, $08, $DD, $20, $BC
.byte $D9, $90, $44, $20, $E7, $D9, $90, $47, $20, $58, $8D, $BD, $01, $07, $29, $07
.byte $C9, $02, $D0, $03, $4C, $C5, $8D, $BD, $02, $07, $29, $0F, $C9, $03, $90, $10
.byte $C9, $0D, $B0, $0C, $20, $09, $DA, $20, $A3, $8D, $20, $DF, $88, $4C, $9D, $8C
.byte $BD, $08, $07, $C9, $04, $B0, $09, $20, $DF, $88, $20, $3B, $8D, $20, $C0, $DB
.byte $20, $72, $8D, $20, $07, $8D, $60, $20, $F3, $8C, $A9, $F8, $99, $00, $07, $A9
.byte $80, $8D, $80, $03, $20, $A9, $DC, $BD, $01, $07, $29, $F8, $09, $03, $9D, $01
.byte $07, $A9, $FF, $9D, $02, $07, $A9, $08, $8D, $81, $03, $A9, $F8, $9D, $10, $02
.byte $9D, $14, $02, $20, $9E, $85, $20, $E1, $E2, $4C, $F0, $E2, $20, $F7, $91, $BD
.byte $03, $07, $CD, $23, $07, $90, $06, $A9, $0A, $9D, $02, $07, $60, $A9, $05, $9D
.byte $02, $07, $60, $BD, $03, $07, $CD, $23, $07, $90, $06, $A9, $0D, $9D, $02, $07


; 8D00 - bank 2
.byte $60, $A9, $02, $9D, $02, $07, $60, $A9, $14, $4C, $E0, $DC, $20, $87, $E0, $20
.byte $0D, $86, $20, $08, $DD, $4C, $65, $DD, $20, $04, $8C, $20, $87, $E0, $AD, $D3
.byte $04, $C9, $40, $90, $15, $AD, $D5, $04, $C9, $40, $B0, $0E, $A5, $FD, $29, $0F
.byte $C9, $04, $D0, $06, $20, $EF, $8B, $FE, $01, $07, $60, $8A, $18, $65, $14, $C9
.byte $20, $B0, $0E, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $06, $A9, $FC, $9D, $04
.byte $07, $60, $A9, $04, $9D, $04, $07, $60, $A5, $3E, $F0, $0F, $C9, $01, $F0, $0C
.byte $A9, $F8, $9D, $10, $02, $9D, $14, $02, $4C, $62, $DF, $60, $20, $62, $DF, $68
.byte $68, $60, $A0, $20, $BD, $06, $07, $D0, $0B, $BD, $04, $07, $C9, $30, $90, $19
.byte $C9, $D0, $B0, $15, $A0, $24, $A5, $14, $29, $08, $D0, $02, $C8, $C8, $A5, $14
.byte $29, $1F, $D0, $05, $A9, $02, $8D, $83, $03, $BD, $04, $07, $30, $01, $C8, $98
.byte $4C, $CD, $C4, $BD, $04, $07, $30, $15, $AD, $D3, $04, $C9, $40, $B0, $0D, $FE
.byte $01, $07, $A9, $80, $9D, $06, $07, $A9, $02, $8D, $83, $03, $60, $AD, $D4, $04
.byte $C9, $40, $90, $EB, $60, $BD, $06, $07, $29, $0F, $D0, $09, $BD, $00, $07, $38
.byte $E9, $04, $9D, $00, $07, $20, $DF, $88, $20, $C0, $DB, $20, $72, $8D, $DE, $06
.byte $07, $D0, $0A, $BD, $01, $07, $29, $F8, $09, $01, $9D, $01, $07, $60, $8A, $38
.byte $E9, $18, $A8, $B9, $01, $07, $C9, $69, $F0, $03, $4C, $7E, $8E, $BD, $01, $07


; 8E00 - bank 2
.byte $29, $F8, $C9, $70, $F0, $09, $B9, $00, $07, $38, $E9, $12, $20, $22, $8E, $E8
.byte $E8, $E8, $E8, $BD, $01, $07, $29, $F8, $C9, $70, $F0, $1E, $B9, $00, $07, $38
.byte $E9, $02, $9D, $00, $07, $A9, $70, $9D, $01, $07, $B9, $03, $07, $9D, $03, $07
.byte $B9, $04, $07, $30, $06, $A9, $04, $9D, $02, $07, $60, $A9, $0C, $9D, $02, $07
.byte $60, $BD, $01, $07, $29, $F8, $C9, $70, $D0, $F0, $BD, $03, $07, $C9, $F8, $B0
.byte $2D, $20, $0D, $86, $20, $35, $E0, $D0, $25, $20, $EF, $DA, $90, $06, $20, $8C
.byte $8E, $4C, $A9, $8E, $A0, $60, $E0, $C0, $90, $02, $A0, $C0, $B9, $01, $07, $29
.byte $07, $C9, $01, $D0, $09, $8A, $48, $98, $AA, $20, $DC, $8C, $68, $AA, $A9, $00
.byte $9D, $01, $07, $A9, $F8, $9D, $00, $02, $9D, $00, $07, $60, $BD, $02, $07, $29
.byte $0F, $C9, $08, $B0, $0A, $BD, $03, $07, $18, $69, $04, $9D, $03, $07, $60, $BD
.byte $03, $07, $38, $E9, $04, $9D, $03, $07, $60, $A9, $5F, $9D, $01, $02, $BD, $00
.byte $07, $9D, $00, $02, $BD, $03, $07, $9D, $03, $02, $60, $60, $20, $09, $8F, $AD
.byte $C1, $07, $0D, $C9, $07, $0D, $D1, $07, $0D, $D9, $07, $F0, $09, $20, $61, $8F
.byte $20, $51, $90, $4C, $28, $8C, $AD, $30, $01, $0A, $A8, $B9, $3A, $7D, $85, $00
.byte $B9, $3B, $7D, $85, $01, $AC, $D1, $04, $B1, $00, $0A, $0A, $0A, $C9, $18, $F0
.byte $0D, $C9, $68, $F0, $0F, $20, $99, $DC, $8D, $C9, $07, $8D, $D9, $07, $8D, $C1


; 8F00 - bank 2
.byte $07, $8D, $D1, $07, $60, $8D, $C1, $07, $60, $AD, $C1, $07, $29, $F8, $C9, $68
.byte $F0, $31, $AD, $30, $01, $0A, $A8, $B9, $6F, $7D, $85, $00, $B9, $70, $7D, $85
.byte $01, $AC, $D1, $04, $B1, $00, $F0, $1B, $29, $F0, $38, $E5, $FD, $C9, $FC, $90
.byte $12, $B1, $00, $0A, $0A, $0A, $0A, $8D, $C3, $07, $A9, $68, $8D, $C1, $07, $A9
.byte $00, $F0, $BE, $60, $A9, $10, $9D, $01, $07, $A9, $02, $9D, $02, $07, $A9, $00
.byte $9D, $04, $07, $9D, $05, $07, $A9, $08, $9D, $00, $07, $A9, $80, $9D, $03, $07
.byte $60, $A2, $C0, $20, $72, $8F, $A2, $C8, $20, $72, $8F, $A2, $D0, $20, $72, $8F
.byte $A2, $D8, $BD, $01, $07, $29, $F8, $C9, $10, $D0, $31, $BD, $01, $07, $29, $07
.byte $F0, $59, $C9, $01, $D0, $4C, $20, $53, $E0, $20, $0D, $86, $BD, $00, $07, $C9
.byte $F8, $B0, $3C, $20, $90, $D9, $90, $15, $20, $E7, $D9, $90, $15, $20, $09, $DA
.byte $20, $65, $DF, $20, $17, $90, $20, $C0, $DB, $20, $D5, $C7, $60, $A9, $F8, $99
.byte $00, $07, $BD, $01, $07, $29, $F8, $09, $02, $9D, $01, $07, $A9, $FF, $9D, $02
.byte $07, $A9, $08, $8D, $81, $03, $20, $9E, $85, $20, $E1, $E2, $4C, $F0, $E2, $4C
.byte $2F, $DF, $20, $53, $E0, $20, $0D, $86, $4C, $B2, $DE, $8A, $38, $E9, $C0, $0A
.byte $0A, $0A, $85, $00, $A5, $14, $29, $C0, $C5, $00, $D0, $1A, $20, $56, $8F, $20
.byte $53, $E0, $AD, $D5, $04, $C9, $40, $B0, $0D, $AD, $D3, $04, $C9, $40, $B0, $06


; 9000 - bank 2
.byte $20, $44, $8F, $FE, $01, $07, $60, $AD, $23, $07, $DD, $03, $07, $90, $04, $A9
.byte $60, $D0, $32, $A9, $6F, $D0, $2E, $20, $87, $D2, $D0, $EB, $AD, $D3, $04, $C9
.byte $40, $90, $E4, $A9, $00, $9D, $05, $07, $BD, $02, $07, $29, $0F, $C9, $08, $B0
.byte $0B, $AD, $D5, $04, $C9, $40, $B0, $0B, $A9, $03, $D0, $09, $AD, $D6, $04, $C9
.byte $40, $B0, $F5, $A9, $0C, $9D, $02, $07, $60, $A2, $F0, $A9, $00, $9D, $01, $07
.byte $60, $A2, $C0, $20, $62, $90, $A2, $D0, $20, $62, $90, $60, $20, $08, $DD, $4C
.byte $65, $DD, $BD, $01, $07, $29, $F8, $C9, $18, $D0, $E5, $20, $0D, $86, $BD, $01
.byte $07, $29, $07, $F0, $07, $C9, $01, $D0, $E3, $4C, $D5, $90, $8A, $38, $E9, $C0
.byte $85, $01, $0A, $18, $65, $14, $29, $7F, $D0, $43, $A5, $26, $4A, $4A, $4A, $29
.byte $03, $A8, $B9, $CE, $90, $18, $65, $01, $85, $00, $AD, $20, $07, $9D, $00, $07
.byte $AD, $23, $07, $18, $65, $00, $9D, $03, $07, $A5, $1E, $29, $C0, $D0, $1E, $20
.byte $87, $E0, $AD, $D3, $04, $C9, $40, $90, $14, $AD, $D4, $04, $C9, $40, $90, $0D
.byte $AD, $D5, $04, $D0, $08, $FE, $01, $07, $A9, $00, $9D, $06, $07, $60, $E0, $00
.byte $10, $20, $4C, $1D, $DD, $20, $08, $DD, $BD, $06, $07, $C9, $40, $90, $11, $C9
.byte $60, $B0, $0D, $20, $09, $DA, $20, $90, $D9, $90, $0E, $20, $E7, $D9, $90, $0E
.byte $FE, $06, $07, $20, $62, $DF, $4C, $1B, $91, $A9, $F8, $99, $00, $07, $BD, $01


; 9100 - bank 2
.byte $07, $29, $F8, $09, $02, $9D, $01, $07, $A9, $FF, $9D, $02, $07, $A9, $08, $8D
.byte $81, $03, $20, $9E, $85, $20, $E1, $E2, $4C, $F0, $E2, $BD, $06, $07, $C9, $7F
.byte $F0, $B0, $C9, $20, $90, $15, $C9, $40, $90, $04, $C9, $60, $90, $12, $A0, $0A
.byte $A5, $14, $29, $04, $D0, $01, $C8, $98, $4C, $67, $C6, $A9, $09, $4C, $67, $C6
.byte $20, $47, $91, $A0, $0C, $D0, $E9, $A0, $F0, $B9, $01, $07, $29, $F8, $D0, $1E
.byte $A9, $70, $99, $01, $07, $BD, $00, $07, $38, $E9, $0C, $99, $00, $07, $BD, $03
.byte $07, $99, $03, $07, $CD, $23, $07, $B0, $06, $A9, $04, $99, $02, $07, $60, $A9
.byte $0D, $99, $02, $07, $60, $BD, $01, $07, $29, $F8, $C9, $70, $D0, $F0, $BD, $00
.byte $07, $C9, $F8, $B0, $1D, $BD, $03, $07, $C9, $F8, $B0, $16, $20, $0D, $86, $BD
.byte $04, $07, $48, $20, $09, $DA, $68, $9D, $04, $07, $90, $06, $20, $B0, $91, $4C
.byte $D9, $91, $A9, $00, $9D, $01, $07, $A9, $F8, $9D, $00, $02, $9D, $00, $07, $60
.byte $BD, $02, $07, $29, $0F, $C9, $07, $F0, $14, $C9, $08, $B0, $04, $FE, $03, $07
.byte $60, $DE, $03, $07, $A5, $14, $4A, $90, $03, $DE, $03, $07, $60, $FE, $03, $07
.byte $A5, $14, $4A, $90, $03, $FE, $03, $07, $60, $A9, $A9, $9D, $01, $02, $BD, $00
.byte $07, $38, $E9, $04, $9D, $00, $02, $BD, $03, $07, $9D, $03, $02, $A9, $01, $9D
.byte $02, $02, $60, $60, $4C, $19, $92, $AD, $A1, $07, $0D, $A9, $07, $0D, $B1, $07


; 9200 - bank 2
.byte $0D, $B9, $07, $D0, $13, $A9, $08, $8D, $A1, $07, $8D, $A9, $07, $8D, $B1, $07
.byte $8D, $B9, $07, $A9, $80, $8D, $85, $03, $60, $A2, $A0, $20, $2A, $92, $A2, $A8
.byte $20, $2A, $92, $A2, $B0, $20, $2A, $92, $A2, $B8, $BD, $01, $07, $29, $F8, $C9
.byte $08, $D0, $E5, $BD, $01, $07, $29, $07, $20, $2B, $EE, $13, $93, $5B, $92, $DE
.byte $92, $43, $92, $20, $0D, $86, $20, $B2, $DE, $AD, $A1, $07, $0D, $A9, $07, $0D
.byte $B1, $07, $0D, $B9, $07, $D0, $03, $20, $70, $CB, $60, $20, $65, $93, $BD, $02
.byte $07, $29, $0F, $C9, $08, $B0, $59, $A9, $D8, $85, $08, $20, $CD, $92, $20, $6D
.byte $C7, $20, $ED, $85, $20, $90, $D9, $90, $24, $20, $E7, $D9, $90, $24, $20, $09
.byte $DA, $F0, $C6, $90, $C4, $20, $62, $DF, $20, $0D, $86, $20, $C0, $DB, $20, $25
.byte $93, $A5, $14, $29, $3F, $D0, $05, $A9, $01, $8D, $83, $03, $60, $A9, $F8, $99
.byte $00, $07, $BD, $01, $07, $29, $F8, $09, $03, $9D, $01, $07, $A9, $FF, $9D, $02
.byte $07, $20, $9E, $85, $20, $E1, $E2, $20, $F0, $E2, $A9, $01, $8D, $83, $03, $60
.byte $A9, $28, $85, $08, $20, $CD, $92, $20, $8D, $C7, $4C, $74, $92, $AD, $20, $07
.byte $38, $E9, $30, $85, $09, $AD, $20, $07, $18, $69, $30, $85, $0A, $60, $20, $65
.byte $93, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $0F, $AD, $23, $07, $18, $69, $10
.byte $20, $08, $93, $20, $6D, $C7, $4C, $74, $92, $AD, $23, $07, $38, $E9, $10, $20


; 9300 - bank 2
.byte $08, $93, $20, $8D, $C7, $4C, $74, $92, $85, $08, $A9, $30, $85, $09, $A9, $F8
.byte $85, $0A, $60, $8A, $0A, $C5, $14, $D0, $0B, $20, $49, $8F, $A9, $44, $9D, $02
.byte $07, $FE, $01, $07, $60, $A9, $79, $9D, $01, $02, $A9, $78, $9D, $05, $02, $BD
.byte $00, $07, $9D, $00, $02, $38, $E9, $08, $9D, $04, $02, $BD, $03, $07, $9D, $03
.byte $02, $48, $A0, $00, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $02, $A0, $02, $68
.byte $18, $79, $61, $93, $9D, $07, $02, $B9, $62, $93, $9D, $02, $02, $9D, $06, $02
.byte $60, $FE, $02, $02, $42, $BD, $00, $07, $C9, $F0, $B0, $07, $BD, $03, $07, $C9
.byte $FC, $90, $ED, $68, $68, $20, $2F, $DF, $4C, $49, $92, $AC, $30, $01, $B9, $A4
.byte $7D, $A8, $4C, $87, $93, $A0, $1F, $A2, $1F, $B9, $A7, $7D, $9D, $90, $03, $88
.byte $CA, $10, $F6, $60, $85, $02, $84, $03, $A5, $1A, $29, $01, $0A, $A8, $B9, $E0
.byte $7B, $85, $00, $B9, $E1, $7B, $85, $01, $98, $F0, $03, $4C, $D9, $93, $A5, $FD
.byte $18, $65, $00, $85, $00, $A9, $00, $65, $01, $85, $01, $A5, $02, $18, $65, $00
.byte $29, $F0, $85, $00, $A9, $00, $65, $01, $85, $01, $A5, $03, $4A, $4A, $4A, $4A
.byte $05, $00, $85, $00, $A0, $00, $B1, $00, $60, $A5, $FD, $18, $65, $00, $85, $00
.byte $A9, $00, $65, $01, $85, $01, $A5, $00, $18, $65, $02, $29, $F0, $85, $00, $A5
.byte $01, $69, $00, $85, $01, $C9, $07, $B0, $08, $A5, $00, $C9, $E0, $B0, $02, $90


; 9400 - bank 2
.byte $C9, $A5, $00, $38, $E9, $E0, $85, $00, $A5, $01, $E9, $01, $85, $01, $4C, $CA
.byte $93, $20, $26, $94, $24, $5C, $70, $07, $BD, $00, $07, $C9, $80, $90, $01, $60
.byte $FE, $00, $07, $4C, $F6, $94, $AD, $D5, $04, $C9, $2A, $F0, $08, $AD, $D6, $04
.byte $C9, $2A, $F0, $01, $60, $A0, $28, $A9, $04, $4C, $90, $CA, $A5, $1C, $10, $15
.byte $AD, $D6, $04, $C9, $50, $B0, $08, $AD, $D5, $04, $C9, $50, $B0, $04, $60, $4C
.byte $3C, $D0, $4C, $40, $D0, $AD, $D5, $04, $C9, $50, $B0, $08, $AD, $D6, $04, $C9
.byte $50, $B0, $04, $60, $4C, $44, $D0, $4C, $4E, $D0, $A5, $FD, $C5, $74, $D0, $03
.byte $4C, $42, $EE, $85, $74, $29, $0F, $C9, $0D, $F0, $19, $C9, $0C, $F0, $18, $A5
.byte $68, $0A, $A8, $B9, $90, $94, $85, $00, $B9, $91, $94, $85, $01, $6C, $00, $00
.byte $42, $EE, $9A, $94, $4C, $1D, $95, $4C, $37, $95, $20, $B2, $94, $A5, $69, $18
.byte $69, $20, $85, $69, $A5, $6A, $69, $00, $85, $6A, $20, $B2, $94, $A9, $00, $85
.byte $68, $60, $AD, $02, $20, $A5, $6A, $8D, $06, $20, $A5, $69, $8D, $06, $20, $A9
.byte $12, $8D, $07, $20, $8D, $07, $20

: RTS

; 94c8
  LDA $5C
  BPL :-
;   LDA $0100
;   AND #$7F
;   STA $0100
;   STA PpuControl_2000
  jslb disable_nmi_and_store, $a0
  nops 7

  JSR $9722
  LDA $5C
  AND #$7F
  STA $5C

;   LDA $0100
;   ORA #$80
;   STA $0100
;   STA PpuControl_2000
  jslb enable_nmi_and_store, $a0
  nops 7

  PLA
  PLA
  JMP $8095

 ; 94f0
  LDA $F3
  AND #$80
  BEQ :++
  LDA $FD
  SEC
  SBC #$01
  STA $FD
  LDA $1A
  SBC #$00
  STA $1A
  LDA #$01
  STA $27
  LDA $FD
  CMP #$F0
  BCC :+
  jslb scroll_rollover, $a0
  nops 6

: RTS

  ; 9518
: LDA #$00
  STA $27
  RTS


;951D
  jslb nes_951d_copy, $a0
  nops 21
  RTS

; 9537
  jslb nes_9537_copy, $a0
  nops 49
  RTS

; 956D
  LDA $FD
  AND #$F0
  STA $08
  LDA #$00
  STA $01
  LDA $08
  STA $00
  ASL $00
  ROL $01
  ASL $00
  ROL $01
  LDA #$00
  CLC
  ADC $00
  STA $0481
  LDA #$20
  ADC $01
  STA $0482
  LDA $1A
  AND #$01
  BNE :+
  LDA $0482
  CLC
  ADC #$04 ; #$08
  STA $0482
: JSR $95B7
  JSR $95C2
  LDA $08
  CLC
  ADC $62
  STA $06
  LDA #$00
  ADC $63
  STA $07
  JMP $95D4
  LDA $1A
  EOR #$FF
  STA $04D1
  INC $04D1
  RTS

.byte $AD, $D1, $04, $29, $01, $0A, $A8, $B9, $E0, $7B, $85, $62, $B9, $E1
.byte $7B, $85, $63, $60, $A0, $0F, $98, $48, $B1, $06, $20, $02, $96, $68, $48, $0A
.byte $A8, $A5, $02, $99, $83, $04, $C8, $A5, $03, $99, $83, $04, $98, $18, $69, $1F
.byte $A8, $A5, $04, $99, $83, $04, $C8, $A5, $05, $99, $83, $04, $68, $A8, $88, $10


; 9600 - bank 2
.byte $D5, $60, $85, $00, $A9, $00, $85, $01, $A0, $03, $06, $00, $26, $01, $06, $00
.byte $26, $01, $A5, $3A, $C9, $10, $B0, $16, $A5, $00, $18, $69, $9C, $85, $00, $A5
.byte $01, $69, $79, $85, $01, $B1, $00, $99, $02, $00, $88, $10, $F8, $60, $A5, $00
.byte $18, $69, $9C, $85, $00, $A5, $01, $69, $79, $85, $01, $4C, $25, $96, $20, $B7
.byte $95, $20, $B4, $96, $20, $C6, $96, $A2, $00, $18, $8A, $65, $00, $A8, $B1, $64
.byte $9D, $F0, $03, $E8, $E0, $08, $90, $F1, $A5, $FD, $29, $10, $F0, $2B, $A0, $00
.byte $18, $98, $65, $00, $85, $01, $98, $AA, $BD, $F0, $03, $29, $F0, $85, $02, $A5
.byte $01, $AA, $BD, $B0, $03, $29, $0F, $05, $02, $85, $02, $A5, $01, $AA, $A5, $02
.byte $9D, $B0, $03, $C8, $C0, $08, $90, $D8, $60, $A0, $00, $18, $98, $65, $00, $85
.byte $01, $98, $AA, $BD, $F0, $03, $29, $0F, $85, $02, $A5, $01, $AA, $BD, $B0, $03
.byte $29, $F0, $05, $02, $85, $02, $A5, $01, $AA, $A5, $02, $9D, $B0, $03, $C8, $C0
.byte $08, $90, $D8, $60, $AD, $D1, $04, $29, $01, $0A, $A8, $B9, $E8, $7B, $85, $64
.byte $B9, $E9, $7B, $85, $65, $60, $A5, $FD, $29, $E0, $4A, $4A, $85, $00, $60

;96cf
  JSR $95B7                
  LDA #$00                 
  STA $5C                  
  STA $04D2                
  JSR $973F                
  LDA #$06                 
  JSR $CA90                
  LDA #$00                 
  STA $04D2                
  INC $04D1                
  JSR $9742                
  LDA #$06                 
  JSR $CA90                
  JSR $972A                
  LDA #$FF                 
  STA $1A                  
  LDA #$EE                 
  STA $FD                  
: JSR $956D                
  JSR $963E  
 
  JSR level_load_tile_and_attributes   
  NOP
  NOP
  NOP          
  ; JSR $9537                
  ; JSR $951D  

  LDA $FD                  
  SEC                      
  SBC #$10                 
  STA $FD                  
  LDA $1A                  
  SBC #$00                 
  STA $1A                  
  CMP #$FE                 
  BCS :-                
  LDA #$FF                 
  STA $1A                  
  LDA #$EE                 
  STA $FD                  
  RTS      

; 9722 - bank 2
.byte $20, $3F, $97, $A9, $06, $20, $90, $CA, $A0, $0F, $B9, $00, $05, $99
.byte $E0, $06, $88, $10, $F7, $60

:
.byte $A5, $5C, $09, $40, $85, $5C, $68, $68, $60

  JSR $95B7 
  ; - moved to our hijack  
standard_level_1_creation:
  JMP $F400 ; @load_level_1
  ; LDA #$00
  ; STA $04D2
  nops 2
  LDA $0130
  ASL
  TAY
  LDA $7BF0,Y
  STA $00
  LDA $7BF1,Y
  STA $01
  LDA $04D1
  ASL
  TAY
  LDA ($00),Y
  STA $49
  INY
  LDA ($00),Y
  CMP #$FF
  BEQ :-
end_of_level_creation:

.byte $85, $4A, $20, $C2, $95, $20, $B4, $96, $4C, $8E
.byte $97, $AD, $D1, $04, $0A, $A8, $B9, $F6, $7B, $85, $49, $B9, $F7, $7B, $85, $4A
.byte $A5, $3A, $C9, $10, $90, $E2, $A0, $00, $20, $C9, $95, $20, $BB, $96, $20, $68
.byte $98, $A0, $00, $B1, $49, $20, $73, $98, $A0, $01, $B1, $49, $C9, $FD, $F0, $17
.byte $85, $4D, $C8, $B1, $49, $85, $4E, $C8, $B1, $49, $85, $4F, $98, $48, $20, $B8
.byte $97, $68, $A8, $C8, $4C, $9A, $97, $60, $20, $04, $98, $A9, $00, $85, $5F, $A5
.byte $4D, $29, $F0, $85, $61, $A5, $5F, $0A, $0A, $0A, $0A, $18, $65, $61, $C9, $F0
.byte $B0, $31, $A0, $00, $B1, $51, $C9, $FF, $F0, $29, $85, $53, $29, $0F, $AA, $C8
.byte $B1, $51, $99, $53, $00, $C8, $CA, $D0, $F7, $20, $85, $98, $A5, $53, $29, $0F
.byte $38, $65, $51, $85, $51, $A9, $00, $65, $52, $85, $52, $20, $24, $98, $E6, $5F


; 9800 - bank 2
.byte $4C, $BF, $97, $60, $A5, $4E, $0A, $A8, $A5, $3A, $C9, $10, $B0, $0B, $B9, $7C
.byte $7C, $85, $51, $B9, $7D, $7C, $85, $52, $60, $B9, $7C, $7C, $85, $51, $B9, $7D
.byte $7C, $85, $52, $60, $A5, $5F, $0A, $0A, $0A, $0A, $85, $5D, $A5, $53, $29, $F0
.byte $4A, $4A, $4A, $4A, $18, $65, $5D, $85, $5D, $18, $A5, $4D, $65, $5D, $85, $5D
.byte $A5, $53, $29, $0F, $AA, $18, $A5, $62, $65, $5D, $85, $5D, $A9, $00, $65, $63
.byte $85, $5E, $A0, $00, $B9, $54, $00, $91, $5D, $98, $18, $65, $5D, $29, $0F, $C9
.byte $0F, $B0, $04, $C8, $CA, $D0, $ED, $60, $A0, $00, $98, $91, $62, $C8, $C0, $F0
.byte $90, $F9, $60, $29, $03, $A8, $B9, $81, $98, $A0, $40, $91, $64, $88, $10, $FB
.byte $60, $00, $55, $AA, $FF, $A5, $53, $29, $F0, $4A, $4A, $4A, $4A, $8D, $D0, $04
.byte $A5, $53, $29, $0F, $18, $6D, $D0, $04, $8D, $D0, $04, $A5, $4D, $29, $0F, $8D
.byte $CD, $04, $18, $6D, $D0, $04, $C9, $10, $90, $09, $A9, $10, $38, $ED, $CD, $04
.byte $8D, $D0, $04, $A9, $00, $8D, $CD, $04, $A5, $5F, $0A, $0A, $0A, $0A, $18, $65
.byte $4D, $18, $6D, $CD, $04, $85, $60, $29, $E0, $4A, $4A, $85, $66, $A5, $60, $29
.byte $0F, $4A, $18, $65, $66, $18, $65, $64, $85, $66, $A9, $00, $65, $65, $85, $67
.byte $A5, $60, $29, $10, $4A, $4A, $4A, $8D, $CE, $04, $A5, $60, $29, $01, $0D, $CE
.byte $04, $F0, $0E, $AA, $A9, $03, $0A, $0A, $CA, $8D, $CE, $04, $F0, $08, $4C, $F6


; 9900 - bank 2
.byte $98, $A9, $03, $8D, $CE, $04, $AD, $CE, $04, $49, $FF, $A0, $00, $31, $66, $8D
.byte $CF, $04, $A5, $4F, $29, $02, $F0, $0B, $A9, $AA, $2D, $CE, $04, $0D, $CF, $04
.byte $8D, $CF, $04, $A5, $4F, $29, $01, $F0, $0B, $A9, $55, $2D, $CE, $04, $0D, $CF
.byte $04, $8D, $CF, $04, $AD, $CF, $04, $91, $66, $EE, $CD, $04, $AD, $CD, $04, $CD
.byte $D0, $04, $B0, $03, $4C, $B8, $98, $60

  LDA #$10
  STA $0A
  INC $1A
  ; jslb reset_to_stored_screen_offsets
: JSR $956D
  JSR $963E
   
  JSR level_load_tile_and_attributes
  nops 7
  ; JSR $951D
  ; JSR $9537
  LDA $FD
  SEC
  SBC #$10
  STA $FD
  LDA $1A
  SBC #$00
  STA $1A
  DEC $0A
  BPL :-
  LDA $FD
  CLC
  ADC #$10
  STA $FD
  LDA $1A
  ADC #$00
  STA $1A
  RTS




; 9979
.byte $00, $00, $00 ; , $00, $00, $00, $00 used for jslb above
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $4C, $FA, $99, $4C, $78, $9A, $4C, $BB, $AD, $4C, $40, $DF, $4C, $3E, $AB, $4C
.byte $70, $AB, $4C, $E1, $AA, $4C, $68, $9A, $4C, $09, $B0, $4C, $03, $9E, $4C, $68
.byte $9A, $4C, $C7, $AA, $4C, $31, $9A, $4C, $24, $9B, $4C, $F7, $9A, $4C, $07, $AE
.byte $4C, $51, $AE, $4C, $7B, $AC, $4C, $2A, $AD, $4C, $F3, $AB, $4C, $47, $AC, $4C
.byte $D6, $9D, $67, $C5, $E7, $C5, $38, $9B, $78, $9B, $A0, $9B, $C0, $9B, $E0, $9B
.byte $00, $9C, $00, $9C, $00, $9D, $FF, $EF, $B4, $BE, $20, $1D, $EB, $20, $F0, $EE


; 9A00 - bank 2
.byte $20, $E5, $EE, $A9, $01, $8D, $2F, $01, $20, $01, $EB, $20, $2A, $C4, $20, $20
.byte $EF, $20, $21, $7F, $20, $42, $EE, $20, $2E, $EF, $20, $CA, $EE, $20, $E5, $EE
.byte $A9, $08, $20, $90, $CA, $20, $F7, $9A, $20, $53, $C4, $20, $3D, $C8, $20, $64
.byte $CB, $A9, $60, $85, $43, $20, $01, $EF, $20, $21, $EB, $24, $AB, $70, $13, $30
.byte $14, $20, $98, $E1, $20, $D7, $EA, $20, $B4, $AB, $4C, $38, $9A

;9a4D
: INC $A0
  JMP $C06D
  JMP $C0A0
  JSR $EEF0
  JSR MOVE_TO_NEXT_LEVEL_LOC
  ; JSR $EA89
  ; INC $0130
  nops 3
  LDA $0130
  CMP #$03
  BCS :-
  JMP $9A08
  RTS

; 9a69
: JSR $EE9B
  JSR $EE0E
  JSR $EEB8
  JMP $9AB2
: JMP $9AC8
  TXA
  PHA
  TYA
  PHA
  LDA $45
  BNE :-
  INC $45
  nops 3 ; LDA $2000
  JSR $EB2E
  LDA $38
  BNE :--
  LDA $37
  BNE nes_9acd
  
  LDA #$00
  STA TM ; PpuMask_2001

  JSR $AB71
  JSR $EBC9
  
  jslb set_ppu_mask_to_stored_value, $a0
  nops 1
  ; LDA $FF
  ; STA PpuMask_2001

  JSR $AC7B
  JSR $AD2A
  JSR $EE9B
  JSR $9B07
  JSR $ECD9
  JSR $EEB8
  JSR $E15D
  JSR $C3E0
  JSR $C453
  JSR $EE6A
  JSR $EE94
  JSR $C856
  LDA #$00
  STA $45
  PLA
  TAY
  PLA
  TAX
  RTS

nes_9acd:
.byte $4A, $B0, $E2
.byte $4A, $B0, $06, $20, $42, $EE, $4C, $98, $9A, $A9, $0A, $20, $90, $CA, $A9, $0C
.byte $20, $90, $CA, $20, $C9, $EB, $20, $9B, $EE, $A9, $02, $20, $90, $CA, $20, $D9
.byte $EC, $20, $B8, $EE, $4C, $B2, $9A, $20, $24, $9B, $20, $43, $D3, $20, $96, $A5


; 9B00 - bank 2
.byte $20, $2F, $9F, $20, $F9, $A9, $60, $20, $B6, $CB, $20, $D9, $C3, $AD, $21, $07
.byte $29, $70, $D0, $0F, $20, $A2, $D4, $20, $97, $A5, $20, $30, $9F, $20, $27, $A3
.byte $20, $07, $AA, $60, $A2, $20, $A9, $BA, $9D, $00, $07, $A9, $00, $9D, $02, $07
.byte $A9, $34, $9D, $03, $07, $4C, $BF, $C3, $02, $70, $71, $72, $73, $74, $75, $00
.byte $42, $71, $70, $73, $72, $75, $74, $00, $02, $70, $71, $72, $73, $76, $77, $00
.byte $42, $71, $70, $73, $72, $77, $76, $00, $02, $B0, $B1, $B2, $B3, $B4, $B5, $00
.byte $42, $B1, $B0, $B3, $B2, $B5, $B4, $00, $02, $B0, $B1, $B2, $B3, $B6, $B7, $00
.byte $42, $B1, $B0, $B3, $B2, $B7, $B6, $00, $4B, $4B, $4B, $4B, $5A, $5A, $5A, $5A
.byte $4A, $4A, $4A, $4A, $95, $5F, $96, $5F, $9B, $5F, $9C, $5F, $3F, $5F, $4F, $5F
.byte $48, $5F, $58, $5F, $49, $5F, $59, $5F, $AA, $5F, $AB, $5F, $34, $5F, $55, $5F
.byte $16, $17, $90, $91, $17, $16, $91, $90, $E0, $E1, $E2, $E3, $E1, $E0, $E3, $E2
.byte $E4, $E5, $E6, $E7, $E5, $E4, $E7, $E6, $E8, $E9, $EA, $EB, $E9, $E8, $EB, $EA
.byte $D0, $D1, $D4, $D5, $D1, $D0, $D5, $D4, $D2, $D3, $D6, $D7, $D3, $D2, $D7, $D6
.byte $F0, $F1, $F2, $F3, $F1, $F0, $F3, $F2, $00, $00, $00, $00, $00, $00, $00, $00
.byte $9F, $5F, $AF, $5F, $8E, $5F, $8F, $5F, $34, $5F, $8F, $5F, $CD, $CC, $CF, $CE
.byte $D8, $D9, $DC, $DD, $D9, $D8, $DD, $DC, $DA, $DB, $DE, $DF, $DB, $DA, $DF, $DE


; 9C00 - bank 2
.byte $7F, $00, $00, $00, $7F, $00, $00, $00, $7F, $00, $00, $00, $FC, $27, $01, $00
.byte $F8, $94, $01, $00, $7F, $00, $00, $00, $00, $AE, $01, $00, $7F, $00, $00, $00
.byte $F8, $5B, $00, $FC, $F8, $5B, $40, $04, $00, $5C, $00, $FC, $00, $5C, $40, $04
.byte $F8, $0E, $00, $FC, $F8, $0E, $40, $04, $00, $1E, $00, $FC, $00, $1E, $40, $04
.byte $F8, $CA, $02, $FC, $F8, $CB, $02, $04, $00, $CB, $C2, $FC, $00, $CB, $82, $04
.byte $F8, $98, $00, $F4, $F8, $98, $00, $FC, $F8, $98, $00, $04, $F8, $98, $00, $0C
.byte $7F, $00, $00, $00, $F8, $98, $00, $FC, $F8, $98, $00, $04, $7F, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $7F, $00, $00, $00, $7F, $00, $00, $00, $00, $EC, $03, $FC, $00, $EC, $43, $04
.byte $7F, $00, $00, $00, $7F, $00, $00, $00, $00, $EE, $03, $FC, $00, $EE, $43, $04
.byte $F8, $EC, $03, $FC, $F8, $EC, $43, $04, $00, $ED, $03, $FC, $00, $ED, $43, $04
.byte $F8, $EE, $03, $FC, $F8, $EE, $43, $04, $00, $EF, $03, $FC, $00, $EF, $43, $04
.byte $F8, $46, $00, $FC, $F8, $47, $00, $04, $00, $56, $00, $FC, $00, $57, $00, $04
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00


; 9D00 - bank 2
.byte $F8, $BD, $02, $FC, $F8, $BD, $42, $04, $00, $BD, $82, $FC, $00, $BD, $C2, $04
.byte $F8, $BE, $02, $FC, $F8, $BE, $42, $04, $00, $BF, $02, $FC, $00, $BF, $42, $04
.byte $F8, $2A, $02, $FC, $F8, $2A, $02, $04, $00, $2A, $82, $FC, $00, $2A, $82, $04
.byte $F8, $BF, $82, $FC, $F8, $BF, $C2, $04, $00, $BE, $82, $FC, $00, $BE, $C2, $04
.byte $F8, $FA, $02, $FC, $F8, $FA, $42, $04, $00, $F7, $02, $FC, $00, $F7, $42, $04
.byte $F8, $C8, $02, $FC, $F8, $C8, $42, $04, $00, $C9, $02, $FC, $00, $C9, $42, $04
.byte $F8, $50, $00, $FC, $F8, $50, $40, $04, $00, $51, $00, $FC, $00, $51, $40, $04
.byte $F8, $3E, $00, $FC, $7F, $00, $00, $00, $00, $3E, $80, $FC, $7F, $00, $00, $00
.byte $F8, $52, $00, $04, $7F, $00, $00, $00, $00, $52, $80, $04, $7F, $00, $00, $00
.byte $F8, $3D, $00, $FC, $F8, $3D, $40, $03, $00, $4D, $00, $FC, $00, $4D, $40, $03
.byte $F8, $92, $01, $FD, $F8, $94, $01, $03, $00, $93, $01, $FD, $00, $AE, $01, $03
.byte $F8, $9A, $01, $F4, $F8, $9A, $01, $FC, $F8, $9A, $01, $04, $F8, $9A, $01, $0C
.byte $F8, $0E, $00, $FC, $F8, $0E, $40, $04, $00, $5C, $00, $FC, $00, $5C, $40, $04
.byte $A9, $80, $8D, $80, $03, $60, $98, $48, $BD, $01, $07, $29, $F8, $4A, $4A, $4A
.byte $A8, $B9, $96, $BE, $9D, $07, $07, $A9, $00, $9D, $08, $07, $68, $A8, $60, $98
.byte $48, $BD, $01, $07, $29, $F8, $4A, $4A, $4A, $A8, $B9, $96, $BE, $9D, $07, $07


; 9E00 - bank 2
.byte $68, $A8, $60, $BD, $01, $07, $4A, $4A, $4A, $A8, $B9, $A5, $BE, $60, $A9, $A0
.byte $9D, $00, $07, $A5, $26, $29, $10, $18, $69, $CA, $9D, $02, $07, $A9, $F0, $9D
.byte $03, $07, $A9, $00, $9D, $04, $07, $9D, $05, $07, $20, $D6, $9D, $60, $A2, $F0
.byte $BD, $01, $07, $29, $F8, $C9, $30, $D0, $F4, $20, $08, $DD, $BD, $01, $07, $29
.byte $07, $20, $2B, $EE, $E6, $9E, $52, $9E, $B1, $9E, $4C, $9E, $20, $17, $9F, $4C
.byte $65, $DD, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $44, $A9, $B0, $85, $08, $A9
.byte $30, $85, $09, $A9, $60, $85, $0A, $20, $6D, $C7, $20, $F5, $9E, $20, $90, $D9
.byte $90, $15, $20, $E7, $D9, $90, $15, $20, $09, $DA, $20, $62, $DF, $20, $C0, $DB
.byte $20, $23, $9F, $20, $DE, $DC, $60, $A9, $F8, $99, $00, $07, $20, $D0, $9D, $20
.byte $A9, $DC, $BD, $01, $07, $29, $F8, $09, $03, $9D, $01, $07, $4C, $45, $A6, $A9
.byte $30, $85, $08, $A9, $30, $85, $09, $A9, $60, $85, $0A, $20, $8D, $C7, $4C, $6D
.byte $9E, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $16, $AD, $23, $07, $18, $69, $10
.byte $85, $08, $A9, $30, $85, $09, $A9, $F8, $85, $0A, $20, $6D, $C7, $4C, $6D, $9E
.byte $AD, $23, $07, $38, $E9, $10, $85, $08, $A9, $30, $85, $09, $A9, $F8, $85, $0A
.byte $20, $8D, $C7, $4C, $6D, $9E, $8A, $18, $65, $14, $29, $7F, $D0, $06, $20, $0E
.byte $9E, $FE, $01, $07, $60, $A5, $15, $29, $03, $C9, $03, $D0, $19, $AD, $23, $07


; 9F00 - bank 2
.byte $38, $FD, $03, $07, $B0, $02, $49, $FF, $C9, $04, $B0, $0A, $BD, $01, $07, $29
.byte $F8, $09, $02, $9D, $01, $07, $60, $48, $BD, $03, $07, $38, $E5, $27, $9D, $03
.byte $07, $68, $60, $A0, $54, $BD, $04, $07, $30, $01, $C8, $98, $4C, $CD, $C4, $60
.byte $20, $36, $A9, $AD, $61, $07, $0D, $71, $07, $0D, $81, $07, $0D, $91, $07, $F0
.byte $13, $20, $C6, $A3, $20, $DB, $A0, $20, $9C, $9F, $20, $DD, $9F, $20, $93, $A9
.byte $20, $01, $A5, $60

A39F54:
  jsr enemy_load ; LDA $0130
  nops 12
  ; ASL
  ; TAY
  ; LDA $BC3F,Y
  ; STA $00
  ; LDA $BC40,Y
  ; STA $01

.byte $AC, $D1, $04, $B1, $00, $C9, $0D, $F0, $2E, $0A, $0A, $0A, $20
.byte $9D, $DC, $8D, $61, $07, $8D, $71, $07, $8D, $81, $07, $8D, $91, $07, $A9, $9A
.byte $8D, $60, $07, $8D, $70, $07, $8D, $80, $07, $8D, $90, $07, $A9, $F7, $8D, $63
.byte $07, $8D, $73, $07, $8D, $83, $07, $8D, $93, $07, $60, $60, $A2, $60, $20, $B0
.byte $9F, $A2, $70, $20, $B0, $9F, $A2, $80, $20, $B0, $9F, $A2, $90, $4C, $B0, $9F
.byte $BD, $01, $07, $29, $F8, $C9, $40, $D0, $E2, $4C, $39, $9E, $A9, $00, $9D, $04
.byte $07, $9D, $05, $07, $A9, $80, $9D, $06, $07, $20, $D6, $9D, $A9, $F0, $9D, $00
.byte $07, $8A, $38, $E9, $60, $0A, $18, $69, $40, $9D, $03, $07, $60, $A2, $60, $20
.byte $EE, $9F, $A2, $70, $20, $EE, $9F, $A2, $80, $20, $EE, $9F, $A2, $90, $BD, $01
.byte $07, $29, $F8, $C9, $50, $D0, $33, $20, $87, $E0, $20, $17, $9F, $20, $08, $DD


; A000 - bank 2
.byte $BD, $01, $07, $29, $07, $F0, $35, $C9, $01, $D0, $2E, $20, $90, $D9, $90, $1B
.byte $20, $E7, $D9, $90, $1B, $20, $09, $DA, $20, $62, $DF, $20, $8A, $A0, $20, $DA
.byte $DB, $20, $C9, $DB, $20, $B2, $A0, $20, $DE, $DC, $60, $A9, $F8, $99, $00, $07
.byte $20, $D0, $9D, $20, $A9, $DC, $4C, $42, $A6, $4C, $65, $DD, $8A, $38, $E9, $60
.byte $0A, $C5, $14, $D0, $06, $20, $BC, $9F, $FE, $01, $07, $60, $20, $87, $D2, $D0
.byte $00, $BD, $06, $07, $C9, $78, $B0, $03, $18, $69, $01, $9D, $06, $07, $29, $F0
.byte $9D, $05, $07, $60, $A9, $00, $9D, $06, $07, $9D, $04, $07, $9D, $05, $07, $60
.byte $BD, $06, $07, $18, $69, $01, $9D, $06, $07, $C9, $F8, $B0, $06, $29, $F0, $9D
.byte $05, $07, $60, $A9, $01, $9D, $06, $07, $D0, $DF, $BD, $06, $07, $30, $E1, $D0
.byte $BB, $8A, $38, $E9, $60, $18, $65, $14, $29, $3F, $D0, $15, $A0, $40, $AD, $23
.byte $07, $DD, $03, $07, $B0, $02, $A0, $B0, $98, $9D, $04, $07, $A9, $80, $9D, $06
.byte $07, $60, $A9, $04, $4C, $67, $C6, $A9, $0D, $9D, $02, $07, $A9, $FF, $9D, $04
.byte $07, $A9, $00, $9D, $05, $07, $9D, $06, $07, $4C, $D6, $9D, $A5, $14, $0A, $0A
.byte $0A, $0A, $9D, $00, $07, $A9, $F0, $9D, $03, $07, $60, $A2, $60, $20, $EC, $A0
.byte $A2, $70, $20, $EC, $A0, $A2, $80, $20, $EC, $A0, $A2, $90, $BD, $01, $07, $29
.byte $F8, $C9, $38, $D0, $37, $20, $17, $9F, $20, $08, $DD, $BD, $01, $07, $29, $07


; A100 - bank 2
.byte $F0, $34, $C9, $01, $D0, $2D, $20, $87, $E0, $20, $90, $D9, $90, $1F, $20, $E7
.byte $D9, $90, $1F, $A0, $20, $20, $86, $D9, $B0, $03, $20, $6B, $A1, $20, $3D, $A4
.byte $20, $DA, $DB, $20, $C9, $DB, $20, $10, $A2, $20, $DE, $DC, $60, $A9, $F8, $99
.byte $00, $07, $60, $4C, $65, $DD, $8A, $38, $E9, $60, $0A, $29, $60, $85, $00, $A5
.byte $FE, $29, $60, $C5, $00, $D0, $E5, $20, $CC, $A0, $20, $87, $E0, $AD, $D3, $04
.byte $C9, $40, $90, $D8, $AD, $D5, $04, $C9, $40, $B0, $D1, $20, $B7, $A0, $BD, $00
.byte $07, $38, $E9, $08, $9D, $00, $07, $FE, $01, $07, $60, $BD, $08, $07, $D0, $1E
.byte $A9, $7F, $9D, $08, $07, $A9, $20, $8D, $81, $03, $A0, $02, $B9, $41, $01, $85
.byte $00, $29, $F0, $D0, $06, $A5, $00, $29, $0F, $D0, $04, $88, $10, $EE, $60, $A8
.byte $88, $B9, $3E, $01, $29, $0F, $09, $80, $99, $3E, $01, $60, $A9, $50, $9D, $02
.byte $07, $60, $20, $87, $D2, $D0, $F5, $AD, $D3, $04, $C9, $40, $B0, $07, $AD, $D4
.byte $04, $C9, $40, $90, $E7, $A9, $00, $9D, $05, $07, $BD, $02, $07, $29, $0F, $C9
.byte $08, $B0, $1B, $BD, $03, $07, $C9, $F0, $B0, $29, $AD, $D3, $04, $C9, $40, $90
.byte $22, $AD, $D5, $04, $C9, $40, $B0, $1B, $A9, $02, $9D, $02, $07, $60, $BD, $03
.byte $07, $C9, $08, $90, $F3, $AD, $D4, $04, $C9, $40, $90, $EC, $AD, $D6, $04, $C9
.byte $40, $B0, $E5, $A9, $0D, $9D, $02, $07, $60, $BD, $02, $07, $48, $29, $F0, $9D


; A200 - bank 2
.byte $05, $07, $68, $0A, $0A, $0A, $0A, $9D, $04, $07, $20, $DA, $DB, $4C, $C9, $DB
.byte $A0, $64, $BD, $04, $07, $30, $01, $C8, $A5, $14, $29, $10, $D0, $02, $C8, $C8
.byte $98, $4C, $CD, $C4, $A2, $F0, $A9, $00, $9D, $01, $07, $60, $A2, $C0, $20, $33
.byte $A2, $A2, $D0, $BD, $01, $07, $29, $F8, $C9, $18, $D0, $EF, $20, $17, $9F, $BD
.byte $01, $07, $29, $07, $F0, $07, $C9, $01, $F0, $55, $4C, $65, $DD, $8A, $38, $E9
.byte $C0, $85, $01, $0A, $18, $65, $14, $D0, $42, $A9, $E0, $24, $26, $30, $02, $A9
.byte $20, $85, $00, $A5, $01, $18, $65, $00, $85, $00, $AD, $20, $07, $9D, $00, $07
.byte $AD, $23, $07, $18, $65, $00, $9D, $03, $07, $A5, $1E, $29, $C0, $D0, $1C, $20
.byte $87, $E0, $AD, $D3, $04, $C9, $40, $90, $12, $AD, $D4, $04, $C9, $40, $90, $0B
.byte $FE, $01, $07, $A9, $00, $9D, $06, $07, $20, $D6, $9D, $60, $4C, $1D, $DD, $20
.byte $08, $DD, $BD, $06, $07, $C9, $80, $90, $14, $C9, $C0, $B0, $10, $20, $90, $D9
.byte $90, $14, $20, $E7, $D9, $90, $12, $20, $09, $DA, $20, $62, $DF, $FE, $06, $07
.byte $20, $CC, $A2, $4C, $DE, $DC, $4C, $14, $A4, $4C, $19, $A4, $BD, $06, $07, $C9
.byte $FF, $F0, $C9, $C9, $40, $90, $15, $C9, $80, $90, $04, $C9, $C0, $90, $11, $A0
.byte $0A, $A5, $14, $29, $08, $D0, $01, $C8, $98, $4C, $67, $C6, $A9, $0A, $D0, $F9
.byte $20, $F7, $A2, $A0, $0C, $D0, $EA, $A0, $F0, $B9, $01, $07, $29, $F8, $C9, $70


; A300 - bank 2
.byte $F0, $1E, $A9, $70, $99, $01, $07, $BD, $00, $07, $38, $E9, $10, $99, $00, $07
.byte $BD, $03, $07, $99, $03, $07, $CD, $23, $07, $B0, $06, $A9, $05, $99, $02, $07
.byte $60, $A9, $0D, $99, $02, $07, $60, $A2, $F0, $BD, $01, $07, $29, $F8, $C9, $70
.byte $D0, $EE, $BD, $00, $07, $C9, $F8, $B0, $1D, $BD, $03, $07, $C9, $F8, $B0, $16
.byte $20, $35, $E0, $20, $17, $9F, $AD, $D3, $04, $C9, $40, $B0, $09, $20, $09, $DA
.byte $20, $64, $A3, $4C, $7B, $A3, $A9, $00, $9D, $01, $07, $A9, $F8, $9D, $00, $02
.byte $9D, $00, $07, $60, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $07, $FE, $03, $07
.byte $FE, $03, $07, $60, $DE, $03, $07, $DE, $03, $07, $60, $BD, $00, $07, $9D, $00
.byte $02, $BD, $03, $07, $9D, $03, $02, $BD, $01, $07, $29, $01, $D0, $0B, $A9, $01
.byte $9D, $02, $02, $A9, $A9, $9D, $01, $02, $60, $A9, $02, $9D, $02, $02, $A9, $F5
.byte $9D, $01, $02, $60, $A9, $0D, $9D, $02, $07, $A9, $00, $9D, $05, $07, $A9, $D0
.byte $9D, $04, $07, $20, $D6, $9D, $A9, $9A, $9D, $00, $07, $A9, $F7, $9D, $03, $07
.byte $A9, $80, $9D, $06, $07, $60, $A2, $60, $20, $D7, $A3, $A2, $70, $20, $D7, $A3
.byte $A2, $80, $20, $D7, $A3, $A2, $90, $BD, $01, $07, $29, $F8, $C9, $28, $D0, $33
.byte $20, $53, $E0, $20, $17, $9F, $20, $08, $DD, $BD, $01, $07, $29, $07, $F0, $35
.byte $C9, $01, $D0, $2E, $20, $90, $D9, $90, $1B, $20, $E7, $D9, $90, $1B, $20, $09


; A400 - bank 2
.byte $DA, $20, $62, $DF, $20, $BE, $A4, $20, $DA, $DB, $20, $C9, $DB, $20, $E6, $A4
.byte $20, $DE, $DC, $60, $A9, $F8, $99, $00, $07, $20, $D0, $9D, $20, $A9, $DC, $4C
.byte $42, $A6, $4C, $65, $DD, $8A, $38, $E9, $60, $29, $30, $0A, $85, $00, $A5, $FE
.byte $29, $60, $C5, $00, $D0, $06, $20, $A4, $A3, $FE, $01, $07, $60, $BD, $06, $07
.byte $30, $5E, $D0, $20, $8A, $38, $E9, $60, $18, $65, $14, $29, $1F, $D0, $14, $A5
.byte $26, $29, $1F, $18, $69, $A0, $9D, $04, $07, $A5, $26, $29, $3F, $18, $69, $80
.byte $9D, $06, $07, $60, $20, $87, $D2, $D0, $0E, $AD, $D3, $04, $C9, $40, $B0, $1A
.byte $AD, $D4, $04, $C9, $40, $B0, $13, $BD, $06, $07, $C9, $78, $B0, $03, $18, $69
.byte $03, $9D, $06, $07, $29, $F0, $9D, $05, $07, $60, $A9, $00, $9D, $06, $07, $9D
.byte $05, $07, $A0, $00, $BD, $04, $07, $10, $02, $A0, $FF, $98, $9D, $04, $07, $60
.byte $BD, $06, $07, $18, $69, $03, $9D, $06, $07, $C9, $F8, $B0, $06, $29, $F0, $9D
.byte $05, $07, $60, $A9, $01, $9D, $06, $07, $A9, $00, $9D, $05, $07, $60, $BD, $06
.byte $07, $30, $DD, $D0, $9F, $8A, $38, $E9, $60, $18, $65, $14, $29, $7F, $D0, $15
.byte $A0, $40, $AD, $23, $07, $DD, $03, $07, $B0, $02, $A0, $B0, $98, $9D, $04, $07
.byte $A9, $80, $9D, $06, $07, $60, $BD, $06, $07, $D0, $12, $A5, $14, $29, $08, $D0
.byte $0C, $A0, $50, $BD, $04, $07, $30, $01, $C8, $98, $4C, $CD, $C4, $A0, $52, $D0


; A500 - bank 2
.byte $F2, $A2, $60, $20, $16, $A5, $A2, $70, $20, $16, $A5, $A2, $80, $20, $16, $A5
.byte $A2, $90, $20, $16, $A5, $60, $BD, $01, $07, $29, $F8, $C9, $20, $D0, $F6, $20
.byte $17, $9F, $20, $08, $DD, $BD, $01, $07, $29, $07, $F0, $07, $C9, $01, $F0, $36
.byte $4C, $65, $DD, $8A, $38, $E9, $60, $29, $30, $85, $00, $18, $65, $14, $29, $7F
.byte $D0, $23, $A5, $00, $0A, $18, $85, $00, $A5, $26, $29, $7F, $65, $00, $9D, $03
.byte $07, $A9, $00, $9D, $00, $07, $9D, $02, $07, $9D, $04, $07, $9D, $05, $07, $20
.byte $D6, $9D, $FE, $01, $07, $60, $20, $08, $DD, $20, $90, $D9, $90, $17, $20, $E7
.byte $D9, $90, $15, $20, $09, $DA, $20, $62, $DF, $20, $8B, $A5, $20, $C0, $DB, $20
.byte $91, $A5, $4C, $DE, $DC, $4C, $14, $A4, $4C, $19, $A4, $A9, $60, $9D, $02, $07
.byte $60, $A9, $63, $4C, $CD, $C4, $60, $AD, $C1, $07, $0D, $C9, $07, $0D, $D1, $07
.byte $0D, $D9, $07, $F0, $0A, $20, $E7, $A5, $20, $F1, $A6, $20, $2C, $A2, $60


 A3A5AF:
  jsr enemy_load_t2
  nops 12
  ; LDA $0130
  ; ASL
  ; TAY
  ; LDA $BCF9,Y
  ; STA $00
  ; LDA $BCFA,Y
  ; STA $01

.byte $AC, $D1
.byte $04, $B1, $00, $0A, $0A, $0A, $20, $99, $DC, $8D, $C1, $07, $8D, $C9, $07, $8D
.byte $D1, $07, $8D, $D9, $07, $60, $A9, $0D, $9D, $02, $07, $A9, $00, $9D, $04, $07
.byte $9D, $05, $07, $4C, $EF, $9D, $60, $A2, $C0, $20, $F8, $A5, $A2, $C8, $20, $F8
.byte $A5, $A2, $D0, $20, $F8, $A5, $A2, $D8, $BD, $01, $07, $29, $F8, $C9, $10, $D0


; A600 - bank 2
.byte $3B, $20, $17, $9F, $BD, $01, $07, $29, $07, $F0, $50, $C9, $01, $F0, $03, $4C
.byte $B2, $DE, $20, $53, $E0, $BD, $00, $07, $C9, $F8, $B0, $3C, $BD, $03, $07, $C9
.byte $FC, $B0, $35, $20, $90, $D9, $90, $15, $20, $E7, $D9, $90, $15, $20, $09, $DA
.byte $20, $65, $DF, $20, $A3, $A6, $20, $C0, $DB, $20, $D5, $C7, $60, $A9, $F8, $99
.byte $00, $07, $FE, $01, $07, $A9, $FF, $9D, $02, $07, $A9, $08, $8D, $81, $03, $20
.byte $03, $9E, $20, $E1, $E2, $4C, $F0, $E2, $4C, $2F, $DF, $8A, $38, $E9, $C0, $0A
.byte $0A, $0A, $18, $65, $14, $85, $00, $29, $F0, $9D, $00, $07, $A5, $00, $0A, $0A
.byte $0A, $0A, $9D, $03, $07, $20, $53, $E0, $AD, $D3, $04, $C9, $6F, $D0, $0F, $20
.byte $D6, $A5, $BD, $03, $07, $18, $69, $04, $9D, $03, $07, $FE, $01, $07, $60, $AD
.byte $23, $07, $DD, $03, $07, $90, $06, $A9, $60, $9D, $02, $07, $60, $A9, $6F, $9D
.byte $02, $07, $60, $20, $87, $D2, $D0, $E7, $AD, $D3, $04, $C9, $40, $90, $E0, $A9
.byte $00, $9D, $05, $07, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $0D, $AD, $D5, $04
.byte $C9, $40, $B0, $0D, $A9, $03, $9D, $02, $07, $60, $AD, $D6, $04, $C9, $40, $B0
.byte $F3, $A9, $0C, $9D, $02, $07, $60, $A9, $0D, $9D, $02, $07, $4C, $D6, $9D, $A5
.byte $14, $0A, $0A, $0A, $0A, $38, $E9, $08, $9D, $00, $07, $A9, $F7, $9D, $03, $07
.byte $60, $A2, $C0, $BD, $01, $07, $29, $F8, $C9, $48, $D0, $44, $20, $17, $9F, $BD


; A700 - bank 2
.byte $01, $07, $29, $07, $20, $2B, $EE, $8A, $A7, $0D, $A7, $76, $A7, $20, $53, $E0
.byte $20, $A7, $AA, $BD, $00, $07, $48, $38, $E9, $08, $9D, $00, $07, $20, $BC, $D9
.byte $90, $1F, $20, $E7, $D9, $90, $1F, $68, $9D, $00, $07, $20, $09, $DA, $20, $65
.byte $DF, $20, $C4, $A7, $20, $C0, $DB, $20, $12, $A8, $20, $85, $A7, $20, $5C, $A8
.byte $60, $A9, $F8, $99, $00, $07, $68, $9D, $00, $07, $8A, $48, $18, $69, $10, $AA
.byte $20, $89, $DD, $68, $AA, $20, $D0, $9D, $20, $A9, $DC, $4C, $42, $A6, $4C, $B8
.byte $AA, $BD, $00, $07, $C9, $F8, $B0, $08, $BD, $03, $07, $C9, $F8, $B0, $01, $60
.byte $20, $2F, $DF, $68, $68, $60, $20, $65, $DD, $8A, $48, $18, $69, $10, $AA, $20
.byte $89, $DD, $68, $AA, $60, $A9, $1C, $4C, $E0, $DC, $20, $DF, $A6, $20, $53, $E0
.byte $AD, $D5, $04, $C9, $40, $B0, $0D, $AD, $D3, $04, $C9, $40, $90, $06, $20, $D7
.byte $A6, $FE, $01, $07, $60, $BD, $02, $07, $29, $F0, $48, $BD, $03, $07, $D9, $03
.byte $07, $68, $90, $06, $09, $0D, $9D, $02, $07, $60, $09, $02, $D0, $F8, $A9, $50
.byte $9D, $02, $07, $60, $A0, $20, $20, $A5, $A7, $20, $87, $D2, $D0, $F0, $AD, $D3
.byte $04, $C9, $40, $B0, $07, $AD, $D4, $04, $C9, $40, $90, $E2, $A9, $00, $9D, $05
.byte $07, $BD, $02, $07, $29, $0F, $C9, $08, $B0, $14, $AD, $D3, $04, $C9, $40, $90
.byte $1B, $AD, $D5, $04, $C9, $40, $B0, $14, $A9, $02, $9D, $02, $07, $60, $AD, $D4


; A800 - bank 2
.byte $04, $C9, $40, $90, $F3, $AD, $D6, $04, $C9, $40, $B0, $EC, $A9, $0D, $9D, $02
.byte $07, $60, $BD, $00, $07, $38, $E9, $10, $9D, $10, $07, $BD, $03, $07, $9D, $13
.byte $07, $A9, $00, $9D, $12, $07, $A5, $14, $29, $30, $4A, $4A, $4A, $4A, $A8, $4A
.byte $90, $03, $FE, $10, $07, $B9, $58, $A8, $A8, $BD, $04, $07, $30, $01, $C8, $98
.byte $20, $CD, $C4, $A0, $42, $BD, $04, $07, $30, $01, $C8, $8A, $48, $18, $69, $10
.byte $AA, $98, $20, $CD, $C4, $68, $AA, $60, $44, $46, $44, $46, $A0, $F0, $B9, $01
.byte $07, $29, $F8, $C9, $70, $F0, $26, $8A, $18, $65, $14, $29, $7F, $D0, $1E, $A9
.byte $71, $99, $01, $07, $BD, $00, $07, $38, $E9, $0E, $99, $00, $07, $BD, $03, $07
.byte $99, $03, $07, $CD, $23, $07, $B0, $06, $A9, $04, $99, $02, $07, $60, $A9, $0D
.byte $99, $02, $07, $60, $A5, $00, $85, $02, $38, $E9, $F0, $85, $00, $A5, $01, $E9
.byte $05, $85, $01, $B0, $04, $A5, $02, $85, $00, $A9, $08, $85, $01, $A5, $00, $48
.byte $29, $F0, $0A, $26, $01, $0A, $26, $01, $85, $00, $68, $29, $0F, $0A, $18, $65
.byte $00, $85, $00, $AD, $D1, $04, $4A, $90, $07, $A5, $01, $18, $69, $04, $85, $01
.byte $60, $A0, $E0, $B9, $01, $07, $D0, $42, $AD, $D3, $04, $C9, $6E, $D0, $3B, $AD
.byte $D4, $04, $C9, $6E, $D0, $34, $A5, $1E, $29, $C0, $D0, $2E, $98, $48, $A0, $00
.byte $A9, $00, $91, $12, $C8, $91, $12, $20, $1B, $A9, $68, $A8, $A9, $80, $99, $01


; A900 - bank 2
.byte $07, $A9, $04, $99, $02, $07, $A9, $00, $99, $06, $07, $BD, $00, $07, $18, $69
.byte $0C, $99, $00, $07, $BD, $03, $07, $99, $03, $07, $60, $A5, $12, $85, $00, $A5
.byte $13, $85, $01, $20, $94, $A8, $A9, $01, $85, $68, $A5, $00, $38, $E9, $02, $85
.byte $69, $A5, $01, $85, $6A, $60, $A2, $60, $A0, $00, $20, $53, $A9, $A2, $70, $A0
.byte $20, $20, $53, $A9, $A2, $80, $A0, $40, $20, $53, $A9, $A2, $90, $A0, $60, $20
.byte $53, $A9, $60, $20, $60, $A9, $C8, $C8, $C8, $C8, $98, $29, $1F, $D0, $F4, $60

;a960 - read platform info from elsewhere
; if we're not randomized, we will have copied the default over at this location
  LDA LVL_PLATFORMS,Y
  CMP #$FF
  BEQ :++
  CMP $0130
  BNE :+
  LDA $04D1
  CMP LVL_PLATFORMS + 1,Y
  BNE :+
  LDA $FE
  CMP LVL_PLATFORMS + 2,Y
  BNE :+
  LDA #$78
  STA $0701,X
  LDA #$C0
  STA $0702,X
  LDA #$80
  STA $0700,X
  LDA #$F8
  STA $0703,X
: RTS

: PLA
  PLA
  RTS

.byte $A2, $60, $20, $A4, $A9, $A2, $70, $20, $A4, $A9, $A2, $80, $20
.byte $A4, $A9, $A2, $90, $BD, $01, $07, $29, $F8, $C9, $78, $D0, $1B, $20, $49, $E0
.byte $20, $17, $9F, $BD, $01, $07, $29, $07, $BD, $03, $07, $C9, $08, $90, $0A, $20
.byte $CC, $A9, $20, $C0, $DB, $20, $F4, $A9, $60, $4C, $1D, $DD, $A9, $00, $9D, $04
.byte $07, $BD, $02, $07, $29, $F0, $C9, $80, $B0, $0D, $BD, $00, $07, $C9, $C0, $B0
.byte $0D, $A9, $30, $9D, $02, $07, $60, $BD, $00, $07, $C9, $40, $90, $F3, $A9, $C0
.byte $9D, $02, $07, $60, $A9, $1B, $4C, $67, $C6, $A2, $50, $A9, $80, $9D, $01, $07


; AA00 - bank 2
.byte $0A, $9D, $03, $07, $85, $A1

: RTS
; item placement for lvl 2

  LDX #$50
  LDA $0701,X
  BPL :-
  JSR $9F17
  LDA $0701,X
  AND #$0F
  BNE nes_aa6a
nes_aa18:
  LDA $A1
  CMP LVL_ITEM_COUNT
  BCC :+
  LDA #$00
  STA $0701,X
  RTS

; item placement checks
: STA $00
  ASL
  ASL
  TAY
  LDA LVL_ITEM_COUNT + 1,Y
  CMP $0130
  BCC :+
  BNE :--
  LDA LVL_ITEM_COUNT + 2,Y
  CMP $04D1
  BCC :+
  BNE :--
  LDA LVL_ITEM_COUNT + 3,Y
  AND #$0F
  ASL
  ASL
  ASL
  ASL
  CMP $FE
  BEQ :++
  BCS :--
: INC $A1
  BNE nes_aa18
: LDA #$00
  STA $0703,X
  LDA LVL_ITEM_COUNT + 3,Y
  AND #$F0
  STA $0700,X
  LDA #$81
  STA $0701,X
  LDA LVL_ITEM_COUNT + 4,Y
  STA $0702,X
  RTS


nes_aa6a:
.byte $BD, $03, $07, $C9, $02, $90
.byte $11, $20, $8A, $D9, $90, $03, $4C, $98, $AA, $BD, $02, $07, $D0, $11, $A9, $FF
.byte $85, $3E, $A9, $10, $8D, $81, $03, $A9, $80, $9D, $01, $07, $4C, $2B, $DD, $A5
.byte $A6, $18, $69, $07, $85, $A6, $D0, $EA, $BD, $02, $07, $D0, $05, $A9, $19, $4C
.byte $67, $C6, $A9, $36, $4C, $CD, $C4, $BD, $00, $07, $C9, $F8, $B0, $08, $BD, $03
.byte $07, $C9, $FC, $B0, $01, $60, $68, $68, $20, $1D, $DD, $8A, $48, $18, $69, $10
.byte $AA, $20, $1D, $DD, $68, $AA, $60, $AC, $30, $01, $B9, $33, $BE, $A8, $20, $D4
.byte $AA, $60, $A0, $1F, $A2, $1F, $B9, $36, $BE, $9D, $90, $03, $88, $CA, $10, $F6
.byte $60, $85, $02, $84, $03, $A5, $1B, $49, $FF, $29, $01, $0A, $A8, $A5, $FE, $18
.byte $65, $03, $4A, $4A, $4A, $4A, $18, $79, $F4, $BA, $85, $00, $A9, $00, $79, $F5


; AB00 - bank 2
.byte $BA, $85, $01, $A5, $02, $29, $F0, $18, $65, $00, $85, $00, $A9, $00, $65, $01
.byte $85, $01, $18, $A5, $FE, $65, $03, $90, $20, $98, $D0, $10, $A9, $F0, $18, $65
.byte $00, $85, $00, $A9, $00, $65, $01, $85, $01, $4C, $39, $AB, $A5, $00, $38, $E9
.byte $F0, $85, $00, $A5, $01, $E9, $00, $85, $01, $A0, $00, $B1, $00, $60, $20, $5B
.byte $AB, $24, $5C, $70, $07, $BD, $03, $07, $C9, $80, $B0, $04, $A9, $00, $F0, $08
.byte $DE, $03, $07, $20, $E6, $AB, $A9, $01, $85, $27, $60, $AD, $D5, $04, $C9, $29
.byte $F0, $07, $AD, $D6, $04, $C9, $29, $D0, $F1, $A0, $58, $A9, $04, $4C, $90, $CA
.byte $60, $A5, $FE, $29, $0F, $C9, $02, $F0, $19, $C9, $03, $F0, $18, $A5, $68, $0A
.byte $A8, $B9, $8E, $AB, $85, $00, $B9, $8F, $AB, $85, $01, $6C, $00, $00, $42, $EE
.byte $98, $AB, $4C, $F3, $AB, $4C, $47, $AC, $AD, $02, $20, $A5, $6A, $8D, $06, $20
.byte $A5, $69, $8D, $06, $20, $A2, $05, $A9, $12, $8D, $07, $20, $CA, $10, $FA, $A9
.byte $00, $85, $68, $60

  LDA $5C
  BPL :+
  
  jslb disable_nmi_and_store, $a0
  ; LDA $0100
  ; AND #$7F
  ; STA $0100
  ; STA $2000
  nops 7

  JSR $AE07
  JSR $ABDF
  LDA #$00
  STA $40
  STA $41
  PLA
  PLA

  jslb enable_nmi_and_store, $a0
  ; LDA $0100
  ; ORA #$80
  ; STA $0100
  ; STA PpuControl_2000
  nops 7

  JMP $9A38
  LDA $5C
  AND #$7F
  STA $5C
  RTS

  INC $FE
  BNE :+
  jslb handle_horizontal_scroll_wrap, $a0
  nops 4
: RTS


  jslb set_vram_increment_to_32_no_store, $a0
  ; LDA PPU_CONTROL_STATE
  ; ORA #$04
  ; STA $2000
  nops 4
  nops 3 ; LDA $2002

  LDA $0482
  STA VMADDH
  LDA $0481
  STA VMADDL
  LDY #$00
: TYA
  ASL
  TAX
  LDA $0483,X
  STA VMDATAL
  INY
  CPY #$1E
  BCC :-
  LDA $0481
  CLC
  ADC #$01
  PHA
  LDA $0482
  ADC #$00
  nops 3 ; LDY $2002
  STA VMADDH
  PLA
  STA VMADDL
  LDY #$00
: TYA
  ASL
  TAX
  LDA $0484,X
  STA VMDATAL
  INY
  CPY #$1E
  BCC :-

  jslb reset_vmain_to_stored_state, $a0
  nops 2

  RTS

; AC47 - bank 2
; AC47 - AC7A - attribute handling
  jslb horizontal_attribute_scroll_handle, $a0
  LDA #$A3
  PHA
  PLB
  nops 43

  RTS

.byte $A5, $FE, $29, $F0, $4A
.byte $4A, $4A, $85, $00, $8D, $81, $04, $A5, $1B, $49, $01, $29, $01, $0A, $0A, $09
.byte $20, $8D, $82, $04, $20, $AF, $AC, $20, $B5, $AC, $A5, $FE, $29, $F0, $4A, $4A
.byte $4A, $4A, $65, $62, $85, $06, $A9, $00, $65, $63, $85, $07, $4C, $C7, $AC, $A5
.byte $1B, $8D, $D1, $04, $60, $AD, $D1, $04, $29, $01, $0A, $A8, $B9, $F4, $BA, $85
.byte $62, $B9, $F5, $BA, $85, $63, $60, $A0, $0E, $98, $48, $0A, $0A, $0A, $0A, $A8
.byte $B1, $06, $20, $F4, $AC, $68, $48, $0A, $0A, $A8, $A5, $02, $99, $83, $04, $A5
.byte $03, $99, $84, $04, $A5, $04, $99, $85, $04, $A5, $05, $99, $86, $04, $68, $A8
.byte $88, $10, $D6, $60, $A0, $00, $84, $01, $A0, $03, $0A, $26, $01, $0A, $26, $01


; AD00 - bank 2
.byte $85, $00, $A5, $3A, $C9, $10, $B0, $15, $A5, $00, $69, $30, $85, $00, $A5, $01
.byte $69, $B9, $85, $01, $B1, $00, $99, $02, $00, $88, $10, $F8, $60, $A5, $00, $18
.byte $69, $30, $85, $00, $A5, $01, $69, $B9, $D0, $E8, $20, $AF, $AC, $20, $97, $AD
.byte $20, $A9, $AD, $A2, $00, $8A, $0A, $0A, $0A, $18, $65, $00, $A8, $B1, $64, $9D
.byte $F0, $03, $E8, $E0, $08, $90, $EE, $A5, $FE, $29, $10, $D0, $1B, $A0, $00, $A9
.byte $33, $20, $86, $AD, $29, $CC, $20, $80, $AD, $C8, $C0, $07, $90, $F1, $A9, $03
.byte $20, $86, $AD, $29, $FC, $4C, $80, $AD, $A0, $00, $A9, $CC, $20, $86, $AD, $29
.byte $33, $20, $80, $AD, $C8, $C0, $07, $90, $F1, $A9, $0C, $20, $86, $AD, $29, $F3
.byte $05, $02, $9D, $B0, $03, $60, $39, $F0, $03, $85, $02, $98, $0A, $0A, $0A, $18
.byte $65, $00, $AA, $BD, $B0, $03, $60, $AD, $D1, $04, $29, $01, $0A, $A8, $B9, $FC
.byte $BA, $85, $64, $B9, $FD, $BA, $85, $65, $60, $A9, $00, $85, $00, $A5, $FE, $29
.byte $E0, $0A, $26, $00, $0A, $26, $00, $0A, $26, $00, $60

;adbb - ae06
  LDA #$00
  STA $5C
  STA $04D2
  JSR $AE24
  LDA #$06
  JSR $CA90
  LDA #$00
  STA $04D2
  INC $04D1
  JSR $AE27
  LDA #$06
  JSR $CA90
  JSR $AE0F
  LDA #$00
  STA $FE
  STA $1B

: JSR full_screen_load_common
  CMP #$02
  BCC :-

  nops 22

  LDA #$01
  STA $1B
  STA $FE
  RTS

; AE00 - bank 2
.byte $20, $24, $AE, $A9, $06, $20, $90, $CA, $A0
.byte $0F, $B9, $00, $05, $99, $E0, $06, $88, $10, $F7, $60

:
.byte $A5, $5C, $09, $40, $85
.byte $5C, $68, $68, $60, $20, $AF, $AC

standard_level_2_creation:
  JMP $F400
  ; LDA #$00
  ; STA $04D2
  nops 2

  LDA $0130
  ASL
  TAY
  LDA $BB04,Y
  STA $00
  LDA $BB05,Y
  STA $01
  LDA $04D1
  ASL
  TAY
  LDA ($00),Y
  STA $49
  INY
  LDA ($00),Y
  CMP #$FF
  BEQ :-
  STA $4A
  JSR $AE60
  RTS

.byte $AD, $D1, $04, $0A, $A8, $B9, $0A, $BB, $85, $49, $B9, $0B, $BB, $85, $4A
.byte $20, $B5, $AC, $20, $97, $AD, $20, $29, $AF, $A0, $00, $B1, $49, $20, $36, $AF
.byte $A0, $01, $B1, $49, $C9, $FD, $F0, $17, $85, $4D, $C8, $B1, $49, $85, $4E, $C8
.byte $B1, $49, $85, $4F, $98, $48, $20, $90, $AE, $68, $A8, $C8, $4C, $72, $AE, $60
.byte $20, $DB, $AE, $A9, $00, $85, $5F, $A5, $4D, $29, $F0, $85, $61, $A5, $5F, $0A
.byte $0A, $0A, $0A, $18, $65, $61, $C9, $F0, $B0, $3F, $A0, $00, $B1, $51, $C9, $FF
.byte $F0, $37, $85, $53, $29, $0F, $AA, $C8, $B1, $51, $99, $53, $00, $C8, $CA, $D0
.byte $F7, $20, $4A, $AF, $A5, $53, $29, $0F, $38, $65, $51, $85, $51, $A9, $00, $65
.byte $52, $85, $52, $20, $EA, $AE, $E6, $5F, $4C, $97, $AE, $A5, $4E, $0A, $A8, $B9
.byte $E2, $BB, $85, $51, $B9, $E3, $BB, $85, $52, $60, $A5, $5F, $0A, $0A, $0A, $0A
.byte $85, $5D, $A5, $53, $29, $F0, $4A, $4A, $4A, $4A, $65, $5D, $18, $65, $4D, $85


; AF00 - bank 2
.byte $5D, $A5, $53, $29, $0F, $AA, $18, $A5, $62, $65, $5D, $85, $5D, $A9, $00, $65
.byte $63, $85, $5E, $A0, $00, $B9, $54, $00, $91, $5D, $98, $18, $65, $5D, $29, $0F
.byte $C9, $0F, $B0, $04, $C8, $CA, $D0, $ED, $60, $A0, $00, $A9, $00, $91, $62, $C8
.byte $98, $C9, $F0, $90, $F6, $60, $29, $03, $A8, $B9, $46, $AF, $A0, $00, $91, $64
.byte $C8, $C0, $40, $90, $F9, $60, $00, $55, $AA, $FF, $A5, $53, $29, $F0, $4A, $4A
.byte $4A, $4A, $8D, $D0, $04, $A5, $53, $29, $0F, $6D, $D0, $04, $8D, $D0, $04, $A5
.byte $4D, $29, $0F, $8D, $CD, $04, $18, $6D, $D0, $04, $C9, $10, $90, $09, $A9, $10
.byte $38, $ED, $CD, $04, $8D, $D0, $04, $A9, $00, $8D, $CD, $04, $A5, $5F, $0A, $0A
.byte $0A, $0A, $18, $65, $4D, $18, $6D, $CD, $04, $85, $60, $29, $E0, $4A, $4A, $85
.byte $66, $A5, $60, $29, $0F, $4A, $18, $65, $66, $18, $65, $64, $85, $66, $A9, $00
.byte $65, $65, $85, $67, $A5, $60, $29, $10, $4A, $4A, $4A, $8D, $CE, $04, $A5, $60
.byte $29, $01, $0D, $CE, $04, $F0, $0E, $AA, $A9, $03, $0A, $0A, $CA, $8D, $CE, $04
.byte $F0, $08, $4C, $BA, $AF, $A9, $03, $8D, $CE, $04, $AD, $CE, $04, $49, $FF, $A0
.byte $00, $31, $66, $8D, $CF, $04, $A5, $4F, $29, $02, $F0, $05, $A9, $AA, $20, $FF
.byte $AF, $A5, $4F, $29, $01, $F0, $05, $A9, $55, $20, $FF, $AF, $AD, $CF, $04, $91
.byte $66, $EE, $CD, $04, $AD, $CD, $04, $CD, $D0, $04, $B0, $0C, $4C, $7C, $AF, $2D


; B000 - bank 2
.byte $CE, $04, $0D, $CF, $04, $8D, $CF, $04, $60

; b009 - b039
  LDA #$10
  STA $0A
  DEC $1B
: JSR full_screen_load_common
  DEC $0A
  BPL :-
  LDA $FE
  SEC
  SBC #$10
  STA $FE
  LDA $1B
  SBC #$00
  STA $1B
  nops 22
  RTS

.byte $00, $33, $05, $00, $3E, $09
.byte $02, $4D, $07, $00, $4E, $0E, $00, $77, $0F, $00, $7D, $09, $02, $88, $0C, $02
.byte $8A, $0C, $02, $8C, $07, $00, $8D, $0E, $00, $8F, $0E, $00, $A2, $09, $02, $AD
.byte $23, $00, $C0, $16, $00, $C4, $16, $00, $C8, $16, $00, $CC, $16, $00, $FD, $FF
.byte $00, $38, $05, $00, $4D, $07, $00, $5E, $0E, $00, $6D, $07, $00, $83, $0B, $02
.byte $87, $0B, $02, $8C, $07, $00, $8D, $0E, $00, $8F, $0E, $00, $AD, $23, $00, $B0
.byte $0F, $00, $B4, $0F, $00, $B8, $0E, $00, $C0, $12, $03, $C4, $12, $03, $CA, $0F
.byte $00, $CE, $0F, $00, $DA, $12, $03, $DE, $12, $03, $FD, $FF, $00, $12, $1D, $03
.byte $28, $17, $03, $45, $05, $00, $4E, $0E, $02, $53, $0B, $02, $69, $0B, $02, $6E
.byte $07, $01, $73, $0C, $00, $89, $0C, $00, $8C, $07, $01, $8D, $0E, $02, $8F, $0E
.byte $02, $AD, $23, $02, $B0, $0F, $00, $C0, $10, $02, $C3, $0F, $00, $C7, $0F, $00
.byte $CB, $0F, $00, $FD, $FF, $00, $20, $0D, $02, $28, $05, $00, $40, $0E, $00, $42
.byte $06, $00, $72, $0D, $02, $80, $0E, $00, $81, $0E, $00, $83, $06, $00, $9F, $0D


; B100 - bank 2
.byte $02, $A2, $00, $00, $C0, $0F, $00, $C4, $0F, $00, $C8, $0F, $00, $CC, $02, $01
.byte $D0, $02, $01, $D4, $02, $01, $D8, $02, $01, $FD, $FF, $02, $1B, $05, $00, $88
.byte $14, $03, $9F, $0D, $02, $A4, $0D, $02, $AE, $0D, $02, $B0, $0D, $02, $B5, $0D
.byte $02, $C0, $02, $01, $C4, $02, $01, $C8, $02, $01, $CC, $02, $01, $FD, $FF, $01
.byte $65, $01, $01, $6E, $01, $01, $7C, $0D, $02, $8B, $0D, $02, $90, $01, $01, $9A
.byte $02, $01, $B5, $03, $01, $C0, $02, $01, $C4, $02, $01, $C8, $02, $01, $CC, $02
.byte $01, $FD, $FF, $01, $34, $05, $00, $6D, $13, $01, $88, $08, $02, $98, $02, $01
.byte $A7, $01, $01, $B0, $13, $01, $B1, $08, $02, $C0, $04, $01, $C4, $04, $01, $C5
.byte $11, $03, $C8, $04, $01, $CC, $04, $01, $CE, $11, $03, $FD, $FF, $01, $1B, $14
.byte $03, $22, $05, $00, $79, $08, $02, $87, $08, $02, $89, $02, $01, $94, $08, $02
.byte $97, $02, $01, $9D, $08, $02, $A4, $02, $01, $AD, $02, $01, $B0, $08, $02, $C0
.byte $04, $01, $C4, $04, $01, $C8, $04, $01, $CC, $04, $01, $FD, $FF, $01, $34, $05
.byte $00, $B2, $08, $02, $B8, $08, $02, $BE, $08, $02, $C2, $04, $01, $C8, $02, $01
.byte $CE, $04, $01, $FD, $FF, $01, $14, $05, $00, $3A, $0D, $02, $49, $0D, $02, $5C
.byte $08, $02, $66, $02, $01, $68, $04, $01, $6C, $04, $01, $81, $13, $01, $90, $01
.byte $01, $94, $01, $01, $9A, $14, $03, $B0, $08, $02, $C0, $04, $01, $C4, $04, $01


; B200 - bank 2
.byte $C8, $04, $01, $CC, $04, $01, $FD, $FF, $01, $19, $05, $00, $50, $08, $02, $60
.byte $01, $01, $64, $01, $01, $66, $01, $01, $6C, $08, $02, $75, $14, $03, $7C, $01
.byte $01, $B0, $08, $02, $B4, $0B, $02, $B5, $08, $02, $BE, $0B, $02, $C0, $04, $01
.byte $C4, $04, $01, $C8, $04, $01, $CA, $11, $03, $CC, $04, $01, $FD, $FF, $01, $4B
.byte $09, $02, $5B, $0A, $01, $8A, $1A, $01, $9E, $09, $02, $A9, $1A, $01, $AC, $02
.byte $01, $B1, $13, $01, $B2, $08, $02, $C0, $04, $01, $C4, $04, $01, $C8, $04, $01
.byte $CC, $04, $01, $FD, $FF, $01, $24, $05, $00, $9F, $03, $01, $A6, $03, $01, $B2
.byte $0B, $02, $B8, $0B, $02, $BB, $03, $01, $BE, $0B, $02, $C0, $02, $01, $C4, $02
.byte $01, $C8, $02, $01, $CC, $02, $01, $FD, $FF, $01, $0E, $02, $01, $3C, $01, $01
.byte $6B, $13, $01, $98, $13, $01, $B3, $09, $02, $C3, $04, $01, $C6, $11, $03, $C9
.byte $11, $03, $CC, $11, $03, $CF, $02, $01, $D6, $02, $01, $DA, $02, $01, $DE, $02
.byte $01, $FD, $FF, $01, $28, $05, $00, $7E, $09, $02, $94, $09, $02, $9E, $02, $01
.byte $B4, $03, $01, $C3, $03, $01, $C4, $03, $01, $C5, $12, $03, $C8, $04, $01, $CC
.byte $04, $01, $FD, $FF, $00, $20, $0D, $02, $31, $0D, $02, $40, $0E, $00, $52, $06
.byte $00, $75, $0F, $00, $79, $0F, $00, $80, $0E, $00, $81, $0E, $00, $83, $06, $00
.byte $86, $0C, $02, $8A, $0C, $02, $A2, $00, $00, $BE, $0D, $02, $C0, $16, $00, $C4


; B300 - bank 2
.byte $16, $00, $C8, $16, $00, $CC, $16, $00, $FD, $FF, $00, $27, $05, $00, $9A, $0D
.byte $02, $AB, $0D, $02, $C0, $12, $03, $C2, $16, $00, $C6, $12, $03, $C9, $16, $00
.byte $CD, $12, $03, $CF, $16, $00, $FD, $FF, $01, $2C, $0D, $02, $3B, $0D, $02, $5A
.byte $02, $01, $85, $08, $02, $88, $01, $01, $95, $01, $01, $B3, $08, $02, $C0, $12
.byte $03, $C3, $04, $01, $C7, $04, $01, $CB, $12, $03, $CC, $03, $01, $CE, $02, $01
.byte $FD, $FF, $01, $27, $05, $00, $84, $09, $02, $94, $0A, $01, $99, $09, $02, $A9
.byte $0A, $01, $AD, $17, $03, $B0, $17, $03, $C0, $12, $03, $C3, $04, $01, $C7, $12
.byte $03, $C8, $04, $01, $CC, $12, $03, $CE, $04, $01, $FD, $FF, $01, $2A, $17, $03
.byte $36, $09, $02, $46, $0A, $01, $6E, $09, $02, $76, $02, $01, $7E, $0A, $01, $84
.byte $01, $01, $9E, $13, $01, $AA, $01, $01, $AE, $01, $01, $B1, $01, $01, $C0, $12
.byte $03, $C4, $12, $03, $C8, $12, $03, $CC, $12, $03, $FD, $FF, $03, $17, $05, $00
.byte $67, $0B, $02, $82, $0B, $02, $86, $01, $01, $8D, $0B, $02, $A0, $01, $01, $AB
.byte $01, $01, $C0, $12, $03, $C4, $12, $03, $C8, $12, $03, $CC, $12, $03, $FD, $FF
.byte $01, $28, $05, $00, $92, $13, $01, $96, $13, $01, $A8, $18, $01, $BC, $18, $01
.byte $C0, $12, $03, $C4, $12, $03, $C8, $12, $03, $CC, $12, $03, $FD, $FF, $01, $14
.byte $05, $00, $2E, $0A, $01, $5D, $19, $01, $63, $0A, $01, $65, $18, $01, $82, $18


; B400 - bank 2
.byte $01, $88, $19, $01, $8C, $18, $01, $A4, $18, $01, $B0, $18, $01, $B9, $18, $01
.byte $C0, $12, $03, $C4, $12, $03, $C8, $12, $03, $CC, $12, $03, $FD, $FF, $01, $35
.byte $05, $00, $3D, $0A, $01, $6B, $18, $01, $91, $17, $01, $9A, $18, $01, $AC, $18
.byte $01, $B0, $18, $01, $B7, $19, $01, $C0, $12, $03, $C4, $12, $03, $C8, $12, $03
.byte $CC, $12, $03, $FD, $FF, $01, $23, $05, $00, $6D, $19, $01, $7A, $0B, $02, $8A
.byte $02, $01, $8E, $19, $01, $9B, $1A, $01, $A2, $0B, $02, $A3, $17, $01, $B0, $18
.byte $01, $B4, $18, $01, $B8, $18, $01, $BC, $18, $01, $C0, $12, $03, $C4, $12, $03
.byte $C8, $12, $03, $CC, $12, $03, $FD, $FF, $01, $41, $0A, $01, $4B, $1B, $01, $54
.byte $1B, $01, $6E, $1B, $01, $71, $19, $01, $79, $1B, $01, $97, $1B, $01, $A0, $19
.byte $01, $AB, $17, $01, $B2, $19, $01, $C0, $12, $03, $C4, $12, $03, $C8, $12, $03
.byte $CC, $12, $03, $FD, $FF, $03, $8F, $13, $01, $C0, $12, $03, $C4, $12, $03, $C8
.byte $12, $03, $CC, $12, $03, $FD, $FF, $01, $80, $1B, $01, $82, $1B, $01, $9D, $1A
.byte $01, $A1, $17, $01, $B7, $1A, $01, $BA, $1A, $01, $BD, $1A, $01, $C0, $12, $03
.byte $C4, $12, $03, $C8, $12, $03, $CC, $12, $03, $FD, $FF, $01, $29, $05, $00, $A3
.byte $0B, $02, $A7, $0B, $02, $AB, $0B, $02, $B0, $1A, $01, $B3, $1A, $01, $B6, $1A
.byte $01, $B9, $1A, $01, $BC, $1A, $01, $C0, $12, $03, $C4, $12, $03, $C8, $12, $03


; B500 - bank 2
.byte $CC, $12, $03, $FD, $FF, $00, $28, $1D, $03, $42, $06, $00, $50, $0E, $00, $62
.byte $06, $00, $80, $0E, $00, $81, $0E, $00, $83, $06, $00, $97, $0B, $02, $9B, $0B
.byte $02, $A2, $00, $00, $BE, $09, $02, $C0, $0F, $00, $C4, $0F, $00, $C8, $0F, $00
.byte $CC, $02, $01, $D0, $12, $03, $D4, $12, $03, $D8, $02, $01, $FD, $FF, $01, $13
.byte $1D, $03, $26, $17, $01, $3D, $1D, $03, $7E, $14, $03, $91, $0B, $02, $9A, $0B
.byte $02, $C0, $02, $01, $C4, $02, $01, $C5, $10, $02, $C8, $02, $01, $CC, $02, $01
.byte $FD, $FF, $01, $14, $1D, $03, $3C, $1D, $03, $88, $09, $02, $98, $02, $01, $B1
.byte $13, $01, $B4, $09, $02, $C0, $02, $01, $C2, $11, $03, $C4, $02, $01, $CC, $04
.byte $01, $D8, $04, $01, $FD, $FF, $03, $13, $1D, $03, $4C, $1D, $03, $94, $17, $01
.byte $98, $03, $01, $C0, $02, $01, $C1, $11, $03, $C4, $11, $03, $C7, $11, $03, $CA
.byte $11, $03, $CD, $11, $03, $D4, $04, $01, $D8, $04, $01, $DC, $02, $01, $FD, $FF
.byte $01, $18, $17, $01, $41, $01, $01, $4A, $01, $01, $53, $0C, $02, $5A, $14, $03
.byte $5C, $0C, $02, $75, $01, $01, $85, $0C, $02, $88, $0C, $02, $8F, $09, $02, $90
.byte $01, $01, $9C, $01, $01, $A0, $0C, $02, $C0, $04, $01, $C4, $04, $01, $C8, $04
.byte $01, $CC, $04, $01, $FD, $FF, $02, $22, $17, $01, $4B, $17, $03, $7D, $0C, $02
.byte $82, $09, $02, $92, $0C, $02, $AB, $09, $02, $BB, $01, $01, $C0, $04, $00, $C4


; B600 - bank 2
.byte $12, $03, $C8, $12, $03, $CC, $04, $01, $FD, $FF, $01, $2B, $1D, $03, $60, $01
.byte $01, $64, $10, $02, $69, $10, $02, $6C, $01, $01, $6F, $14, $03, $74, $01, $01
.byte $78, $01, $01, $84, $0C, $00, $8B, $0C, $00, $9E, $02, $01, $B9, $03, $01, $C0
.byte $02, $01, $C2, $10, $02, $C4, $02, $01, $C6, $11, $03, $C8, $02, $01, $CC, $02
.byte $01, $FD, $FF, $01, $00, $02, $01, $08, $02, $01, $0C, $02, $01, $3C, $14, $03
.byte $48, $1F, $01, $4E, $0C, $00, $8E, $02, $01, $92, $0C, $00, $A7, $03, $01, $B0
.byte $02, $01, $B8, $02, $01, $BC, $02, $01, $C4, $12, $03, $FD, $FF, $01, $00, $02
.byte $01, $03, $02, $01, $0F, $02, $01, $3C, $10, $02, $40, $1F, $01, $43, $02, $01
.byte $73, $1F, $01, $75, $0C, $00, $76, $14, $03, $A9, $10, $02, $B0, $02, $01, $B4
.byte $02, $01, $BF, $03, $01, $C7, $12, $03, $CB, $12, $03, $FD, $FF, $01, $00, $02
.byte $01, $28, $05, $00, $30, $1F, $01, $4B, $17, $02, $85, $17, $03, $9C, $0D, $02
.byte $AB, $0D, $02, $AE, $0D, $02, $B0, $08, $02, $BB, $02, $01, $C0, $02, $01, $C4
.byte $02, $01, $C8, $02, $01, $C9, $11, $03, $CE, $12, $03, $FD, $FF, $01, $33, $17
.byte $03, $5A, $1E, $02, $69, $01, $01, $85, $1E, $02, $86, $1E, $02, $94, $01, $01
.byte $9D, $1E, $02, $AB, $02, $01, $B3, $1E, $02, $B7, $1E, $02, $C0, $12, $03, $C2
.byte $04, $01, $C6, $04, $01, $C9, $11, $03, $CC, $04, $01, $DA, $02, $01, $FD, $FF


; B700 - bank 2
.byte $01, $12, $1D, $03, $1B, $17, $03, $42, $17, $03, $8B, $03, $01, $96, $0B, $02
.byte $99, $03, $01, $AE, $03, $01, $C0, $02, $01, $C1, $10, $02, $C4, $02, $01, $C8
.byte $12, $03, $CC, $12, $03, $FD, $FF, $00, $1C, $17, $03, $32, $1D, $03, $4A, $0B
.byte $02, $58, $0B, $02, $5D, $05, $00, $78, $0C, $00, $7A, $0C, $00, $A2, $03, $01
.byte $A4, $03, $01, $AE, $10, $02, $B0, $03, $01, $B7, $02, $01, $BB, $0F, $00, $BF
.byte $0F, $00, $C0, $12, $03, $C4, $12, $03, $CA, $10, $02, $CD, $10, $02, $FD, $FF
.byte $01, $00, $03, $01, $01, $01, $01, $05, $01, $01, $09, $01, $01, $0D, $01, $01
.byte $0F, $03, $01, $31, $21, $02, $40, $03, $01, $4E, $21, $02, $4F, $03, $01, $61
.byte $15, $02, $7C, $15, $02, $7E, $02, $01, $80, $03, $01, $8E, $20, $00, $91, $22
.byte $02, $97, $22, $02, $AD, $02, $01, $C0, $02, $01, $C4, $02, $01, $C8, $02, $01
.byte $CC, $02, $01, $FD, $FF, $01, $10, $03, $01, $11, $01, $01, $15, $01, $01, $19
.byte $01, $01, $1D, $01, $01, $2F, $02, $01, $50, $03, $01, $6E, $02, $01, $8E, $20
.byte $00, $90, $03, $01, $AD, $02, $01, $C1, $11, $03, $C4, $1A, $01, $C7, $1A, $01
.byte $CA, $1A, $01, $CC, $11, $03, $D0, $01, $01, $FD, $FF, $00, $52, $0F, $00, $56
.byte $0F, $00, $5A, $0F, $00, $62, $06, $02, $6D, $07, $02, $70, $0E, $00, $7E, $0E
.byte $00, $8E, $20, $01, $A2, $02, $01, $A6, $02, $01, $A7, $1C, $02, $AA, $02, $01


; B800 - bank 2
.byte $FD, $FF, $01, $60, $01, $01, $64, $01, $01, $68, $01, $01, $6C, $01, $01, $A0
.byte $04, $01, $A4, $04, $01, $A8, $04, $01, $AC, $04, $01, $FD, $FF, $01, $51, $01
.byte $52, $FF, $04, $53, $53, $53, $53, $FF, $04, $53, $53, $53, $53, $04, $54, $54
.byte $54, $54, $04, $53, $53, $53, $53, $04, $54, $54, $54, $54, $FF, $01, $53, $01
.byte $54, $01, $53, $01, $54, $FF, $04, $53, $53, $53, $53, $04, $55, $55, $55, $55
.byte $04, $54, $54, $54, $54, $FF, $02, $09, $0A, $FF, $01, $57, $01, $59, $FF, $01
.byte $58, $01, $5A, $FF, $04, $06, $06, $06, $06, $FF, $01, $05, $01, $05, $FF, $01
.byte $08, $01, $08, $01, $08, $FF, $01, $0B, $01, $0C, $01, $0D, $FF, $01, $0D, $01
.byte $0E, $01, $0E, $01, $0D, $FF, $01, $11, $01, $12, $01, $12, $FF, $02, $5B, $5B
.byte $02, $5B, $5B, $02, $5B, $5B, $02, $5B, $5B, $FF, $04, $5C, $5C, $5C, $5C, $FF
.byte $03, $31, $32, $31, $FF, $03, $30, $30, $30, $FF, $04, $0F, $0F, $0F, $0F, $04
.byte $10, $10, $10, $10, $04, $10, $10, $10, $10, $FF, $01, $53, $FF, $01, $6F, $FF
.byte $02, $63, $63, $FF, $04, $5E, $5E, $5E, $5E, $04, $5F, $5F, $5F, $5F, $04, $5F
.byte $5F, $5F, $5F, $FF, $03, $00, $14, $15, $04, $14, $15, $00, $16, $FF, $04, $48
.byte $49, $49, $4A, $04, $13, $13, $13, $13, $04, $13, $13, $13, $13, $04, $13, $13
.byte $13, $13, $FF, $02, $48, $4A, $02, $13, $13, $02, $13, $13, $02, $13, $13, $FF


; B900 - bank 2
.byte $03, $60, $60, $60, $03, $60, $60, $60, $FF, $02, $4B, $4C, $FF, $03, $38, $38
.byte $38, $FF, $01, $02, $FF, $01, $03, $FF, $04, $61, $62, $61, $61, $FF, $01, $50
.byte $01, $21, $FF, $01, $63, $FF, $03, $63, $63, $63, $FF, $01, $50, $01, $29, $FF
.byte $12, $12, $12, $12, $2B, $12, $12, $12, $E3, $12, $12, $12, $B4, $B5, $B6, $B7
.byte $7B, $12, $12, $12, $C7, $C8, $C7, $C8, $12, $12, $D1, $D1, $2B, $12, $12, $12
.byte $89, $8A, $89, $8A, $97, $98, $12, $97, $99, $12, $99, $99, $69, $6A, $6B, $6C
.byte $A5, $A6, $A7, $A8, $8F, $90, $6D, $6E, $91, $92, $91, $92, $4D, $4D, $B2, $B2
.byte $B2, $B2, $B2, $B2, $70, $71, $D3, $D4, $D3, $D4, $D3, $D4, $DB, $DB, $DB, $DB
.byte $12, $DC, $DC, $DC, $DE, $12, $DD, $DE, $DE, $12, $12, $12, $7B, $12, $12, $12
.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $64, $65, $64, $65, $64, $65, $64, $65, $64, $65, $64, $65, $64, $65, $64, $65
.byte $64, $65, $64, $65, $64, $65, $64, $65, $64, $65, $64, $65, $64, $65, $64, $65
.byte $7B, $12, $12, $12, $64, $65, $64, $65, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $AA, $AA, $AB, $AB, $C4, $C5, $E4, $E5, $C6, $E6, $E4, $B3, $7B, $12, $12, $12


; BA00 - bank 2
.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $4D, $4D, $B2, $B2, $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $D7, $D8, $DB, $DB, $D8, $D8, $DB, $DB, $D8, $D9, $DB, $DB

; these tiles are moved so they're consistent across all worlds
.byte $ED, $EE, $F0, $F1 ; $D7, $D8, $DF, $E0
.byte $EE, $EF, $F2, $F3 ; $D8, $D9, $E1, $E2

.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $60, $61, $64, $65, $60, $61, $62, $63, $62, $63, $62, $63, $C9, $CA, $CB, $CC
.byte $CA, $C9, $CC, $CB, $CD, $CE, $CF, $D0, $7B, $12, $12, $12, $80, $81, $82, $83
.byte $7C, $7D, $7E, $7F, $80, $12, $80, $12, $12, $7D, $12, $7D, $79, $79, $79, $79
.byte $79, $63, $63, $79, $D2, $D2, $D2, $D2, $BA, $BB, $BC, $BD, $BE, $BF, $B8, $B9
.byte $DA, $DA, $DA, $DA, $A9, $AE, $AF, $12, $AF, $AE, $12, $12, $50, $51, $5B, $5B
.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12
.byte $7B, $12, $12, $12, $7B, $12, $12, $12, $7B, $12, $12, $12, $A1, $A2, $A3, $A4
.byte $7B, $12, $12, $12, $00, $05, $F0, $05, $00, $05, $F0, $05, $00, $04, $40, $04


; BB00 - bank 2
.byte $00, $04, $40, $04, $2E, $BB, $66, $BB, $A4, $BB, $02, $B8, $60, $B7, $02, $B8
.byte $60, $B7, $02, $B8, $A5, $B7, $02, $B8, $A5, $B7, $02, $B8, $A5, $B7, $02, $B8
.byte $A5, $B7, $02, $B8, $DB, $B7, $02, $B8, $DB, $B7, $02, $B8, $02, $B8, $E5, $B0
.byte $1B, $B1, $1B, $B1, $3F, $B1, $1B, $B1, $3F, $B1, $3F, $B1, $63, $B1, $8D, $B1
.byte $BD, $B1, $8D, $B1, $BD, $B1, $BD, $B1, $D5, $B1, $08, $B2, $08, $B2, $08, $B2
.byte $D5, $B1, $63, $B1, $1B, $B1, $3E, $B2, $65, $B2, $65, $B2, $89, $B2, $B3, $B2
.byte $0A, $B3, $3A, $B0, $FF, $FF, $D4, $B2, $0A, $B3, $0A, $B3, $0A, $B3, $28, $B3
.byte $52, $B3, $52, $B3, $7C, $B3, $AC, $B3, $AC, $B3, $AC, $B3, $D0, $B3, $EE, $B3
.byte $1E, $B4, $1E, $B4, $EE, $B3, $45, $B4, $78, $B4, $78, $B4, $A5, $B4, $A5, $B4
.byte $A5, $B4, $78, $B4, $EE, $B3, $EE, $B3, $A5, $B4, $B7, $B4, $DB, $B4, $DB, $B4
.byte $70, $B0, $FF, $FF, $05, $B5, $3E, $B5, $3E, $B5, $65, $B2, $DB, $B4, $A5, $B4
.byte $DB, $B4, $62, $B5, $86, $B5, $86, $B5, $62, $B5, $B0, $B5, $B0, $B5, $D5, $B1
.byte $0A, $B6, $0A, $B6, $43, $B6, $6D, $B6, $6D, $B6, $43, $B6, $9D, $B6, $CD, $B6
.byte $CD, $B6, $86, $B5, $00, $B7, $3E, $B5, $3E, $B5, $00, $B7, $27, $B7, $AC, $B0
.byte $FF, $FF, $1D, $B8, $22, $B8, $28, $B8, $3D, $B8, $46, $B8, $56, $B8, $5A, $B8
.byte $5F, $B8, $64, $B8, $6A, $B8, $6F, $B8, $76, $B8, $7D, $B8, $86, $B8, $8D, $B8


; BC00 - bank 2
.byte $9A, $B8, $A0, $B8, $A5, $B8, $AA, $B8, $BA, $B8, $BD, $B8, $C0, $B8, $C4, $B8
.byte $D4, $B8, $DE, $B8, $F3, $B8, $00, $B9, $09, $B9, $0D, $B9, $12, $B9, $15, $B9
.byte $18, $B9, $1E, $B9, $23, $B9, $26, $B9, $2B, $B9, $03, $00, $01, $8E, $00, $00
.byte $0D, $AE, $01, $00, $04, $88, $01, $02, $01, $81, $01, $02, $05, $35, $01, $45
.byte $BC, $60, $BC, $7E, $BC, $00, $00, $04, $04, $04, $04, $00, $0A, $0A, $08, $00
.byte $04, $04, $0A, $0A, $00, $05, $05, $00, $0A, $00, $05, $00, $04, $0A, $04, $0A
.byte $00, $00, $00, $00, $04, $0A, $0A, $00, $07, $08, $00, $08, $00, $08, $08, $00
.byte $05, $00, $08, $00, $00, $00, $05, $08, $00, $00, $00, $05, $0A, $0A, $00, $04
.byte $04, $05, $05, $0A, $0A, $0A, $00, $07, $08, $04, $05, $00, $0A, $08, $0A, $00
.byte $00, $05, $00, $07, $00, $00, $05, $00, $0A, $04, $05, $05, $A2, $BC, $BD, $BC
.byte $DB, $BC, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $FF, $BC, $1A, $BD, $38, $BD, $00


; BD00 - bank 2
.byte $02, $02, $00, $02, $03, $03, $00, $02, $02, $02, $02, $00, $02, $02, $02, $02
.byte $02, $00, $02, $00, $03, $03, $00, $03, $03, $03, $00, $00, $00, $00, $02, $02
.byte $00, $00, $00, $00, $00, $00, $00, $09, $09, $09, $00, $00, $00, $00, $09, $00
.byte $09, $09, $00, $00, $09, $00, $00, $00, $00, $02, $02, $00, $00, $00, $09, $00
.byte $00, $09, $00, $02, $02, $02, $02, $02, $02, $02, $02, $02, $09, $03, $03, $03
.byte $00, $02, $02, $03, $09, $09, $5C, $BD, $77, $BD, $95, $BD, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $01, $13, $26, $00, $01, $14, $76, $00, $01, $15, $B6, $00, $02
.byte $05, $26, $00, $02, $08, $C6, $00, $02, $12, $B6, $00, $FF, $FF, $FF, $FF, $FF
.byte $FF, $FF, $FF, $01, $13, $76, $00, $01, $14, $B6, $00, $01, $19, $26, $00, $02
.byte $05, $76, $00, $02, $09, $46, $00, $02, $17, $46, $00, $FF, $FF, $FF, $FF, $FF
.byte $FF, $FF, $FF, $01, $13, $B6, $00, $01, $15, $26, $00, $01, $19, $76, $00, $02


; BE00 - bank 2
.byte $05, $B6, $00, $02, $09, $C6, $00, $02, $17, $B6, $00, $FF, $FF, $FF, $FF, $FF
.byte $FF, $FF, $FF, $01, $14, $26, $00, $01, $15, $76, $00, $01, $19, $B6, $00, $02
.byte $08, $46, $00, $02, $11, $B6, $00, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
.byte $FF, $FF, $FF, $1F, $3F, $5F, $02, $30, $00, $0F, $02, $36, $17, $0F, $02, $28
.byte $27, $1A, $02, $21, $27, $15, $02, $20, $26, $07, $02, $31, $11, $15, $02, $00
.byte $25, $3B, $02, $19, $14, $37, $02, $30, $00, $0F, $02, $30, $11, $0F, $02, $28
.byte $15, $0F, $02, $21, $27, $15, $02, $20, $26, $07, $02, $31, $0C, $16, $02, $05
.byte $25, $3B, $02, $19, $15, $39, $0F, $30, $03, $0F, $0F, $10, $00, $0F, $0F, $28
.byte $1B, $01, $0F, $21, $27, $15, $0F, $20, $26, $07, $0F, $30, $11, $15, $0F, $11
.byte $25, $3B, $0F, $1A, $25, $37, $01, $02, $01, $01, $02, $03, $01, $00, $02, $0A
.byte $02, $01, $01, $0A, $01, $01, $01, $01, $03, $05, $03, $01, $00, $03, $05, $03
.byte $01, $01, $05, $01, $01, $02, $01, $01, $03, $01, $01, $00, $01, $03, $01, $01
.byte $01, $02, $01, $FF, $FF, $FF, $F7, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF


level_load_tile_and_attributes:
                       
  JSR $951D  
  JSR $9537   
  jslb convert_nes_attributes_and_immediately_dma_them, $a0
  LDA #$A3
  PHA
  PLB

  RTS

full_screen_load_common:
  JSR $AC7B
  JSR $AD2A
  JSR $ABF3
  JSR $AC47

  jslb convert_nes_attributes_and_immediately_dma_them, $a0
  LDA #$A3
  PHA
  PLB

  LDA $FE
  CLC
  ADC #$10
  STA $FE
  LDA $1B
  ADC #$00
  STA $1B
  RTS

enemy_load:
  LDA RANDOMIZE_ENABLED
  BEQ :+
  LDA #$80
  STA $00
  LDA #$61
  STA $01
  rts
: 
  LDA $0130
  ASL
  TAY
  LDA $BC3F,Y
  STA $00
  LDA $BC40,Y
  STA $01
  rts

enemy_load_t2:
  LDA RANDOMIZE_ENABLED
  BEQ :+
  LDA #$A0
  STA $00
  LDA #$61
  STA $01
  rts
: 
  LDA $0130
  ASL
  TAY
  LDA $BCF9,Y
  STA $00
  LDA $BCFA,Y
  STA $01

  rts

; BF00 - bank 2
; .byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00;, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
; .byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
; .byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00
.byte $00, $00, $00, $00, $00, $00, $00, $00, $80, $00, $00, $80, $00, $00, $00, $00

.segment "PRGA3C"
; now we include the fixed bank
fixeda3:
.include "bank7.asm"
fixeda3_end: